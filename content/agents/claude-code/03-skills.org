#+TITLE: Agent Skills
#+AUTHOR: Kyeong Soo Choi
#+STARTUP: overview
#+OPTIONS: toc:2 num:3
#+PROPERTY: header-args:markdown :mkdirp yes :results none

* Introduction

Skills are model-invoked capabilities that Claude autonomously uses based on context. Unlike slash commands (user-invoked), skills are automatically activated when relevant to the current situation.

** How Skills Work

1. *Discovery*: Claude discovers skills from =.claude/skills/*/SKILL.md= directories
2. *Context matching*: Claude evaluates if a skill's description matches the current context
3. *Automatic activation*: When relevant, Claude uses the skill's instructions
4. *Tool execution*: Skills execute within their defined =allowed-tools=

** Skill Structure

Each skill is a directory containing =SKILL.md=:

#+begin_example
.claude/skills/
├── typescript-types/
│   └── SKILL.md
├── test-coverage/
│   └── SKILL.md
└── emacs-context/
    └── SKILL.md
#+end_example

** Frontmatter Format

#+begin_example yaml
---
name: Skill Display Name
description: Clear description of when and how this skill activates
allowed-tools:
  - Read
  - Write
  - Grep
model: "sonnet"  # Optional model override
---
#+end_example

** Writing Good Descriptions

The =description= is crucial - it determines when the skill activates.

*Good descriptions:*
- "Automatically generate TypeScript type definitions from API responses, JSON data, or existing JavaScript code"
- "Analyze test coverage and suggest missing test cases when code is added or modified"

*Bad descriptions:*
- "Types" (too vague)
- "Does TypeScript stuff" (unclear when to activate)

* Skill Categories

This directory contains skills organized by category. Each category has its own file for better navigation and maintenance.

** [[file:03-skills-javascript.org][JavaScript/TypeScript Development Skills]]

JavaScript and TypeScript development skills for modern syntax, type safety, security, and testing.

*Includes:*
- JavaScript/TypeScript Conventions Enforcer (✓ tangled)
- TypeScript Type Generator (✓ tangled)
- JavaScript/TypeScript Security Checker (✓ tangled)

** [[file:03-skills-rails.org][Rails Development Skills]]

Ruby on Rails specific skills for conventions, security, performance, and testing.

*Includes:*
- Rails Convention Enforcer (✓ tangled)
- N+1 Query Detector (example)
- Rails Security Checker (✓ tangled)
- Test Coverage Assistant (Rails) (example)
- Migration Safety Checker (✓ tangled)
- Rails Upgrade Helper (example)

** [[file:03-skills-python.org][Python Development Skills]]

Python development skills for PEP 8, type safety, testing, security, and common pitfalls.

*Includes:*
- Python Conventions Enforcer (✓ tangled)
- Type Hints Assistant (example)
- Python Testing Assistant (example)
- Python Security Checker (✓ tangled)
- Python Common Pitfalls (example)

** [[file:03-skills-emacs.org][Emacs Integration Skills]]

Skills that leverage the Emacs MCP server for enhanced context-aware assistance.

*Includes:*
- Emacs Context Helper (✓ tangled)

** [[file:03-skills-documentation.org][Documentation Skills]]

Skills for maintaining and improving documentation quality.

*Includes:*
- Documentation Completeness Checker (example)

* Best Practices for Skills

** Skill Design Principles

*** Clear Activation Conditions

The =description= should clearly state when to activate:
- Specific contexts (working with TypeScript)
- Specific actions (code is added)
- Specific problems (missing tests)

*** Appropriate Tool Access

Only request tools the skill actually needs:
- More tools = more powerful but also more risky
- Restrict to minimum necessary
- Document why each tool is needed

*** Complementary to Commands

Skills and commands should work together:
- Commands: User explicitly invokes
- Skills: Automatic based on context
- Commands can leverage skills' logic
- Skills can suggest relevant commands

** Writing Effective Skills

*** Be Proactive But Not Pushy

**Good:**
- "I notice there are no tests for this new function. Would you like me to generate some?"
- "This code could benefit from TypeScript types. Should I add them?"

**Bad:**
- "You MUST add tests now!"
- "I'm going to fix all your code"

*** Provide Value Automatically

Skills should:
- Save time on repetitive tasks
- Catch issues early
- Suggest improvements proactively
- Enhance capabilities without extra effort

*** Respect User Intent

Don't:
- Make changes without asking
- Override user decisions
- Be overly verbose
- Activate when not relevant

## Testing Skills

After creating a skill:

1. **Tangle the file** to generate =.claude/skills/skill-name/SKILL.md=
2. **Restart Claude Code** to discover the new skill
3. **Create test scenarios** that match activation conditions
4. **Verify appropriate activation** - not too eager, not too shy
5. **Check tool restrictions** - ensure only allowed tools are used
6. **Refine description** if activation isn't right

## Skill vs Command Decision

**Use a Skill when:**
- Action should happen automatically
- Context determines relevance
- Saves user from repetitive invocation
- Enhances existing workflows

**Use a Command when:**
- User should explicitly invoke
- Action needs user input/confirmation
- Used occasionally, not continuously
- Clear start and end point

**Use Both when:**
- Skill detects need
- Skill suggests using a command
- Command uses skill's logic

Example: Test Coverage
- Skill: Detects missing tests, suggests adding them
- Command: =/test= explicitly generates tests

* Related Configuration

- [[file:01-settings.org][Settings]] - Configure tool permissions for skills
- [[file:02-commands.org][Slash Commands]] - User-invoked alternatives
- [[file:04-mcp-servers.org][MCP Servers]] - External tools skills can use

* Resources

** General Skills

- [[https://code.anthropic.com/docs/skills][Skills Documentation]]

** JavaScript/TypeScript Development

*** Official Documentation
- [[https://developer.mozilla.org/en-US/docs/Web/JavaScript][MDN JavaScript Documentation]] - Comprehensive JavaScript reference
- [[https://www.typescriptlang.org/docs/][TypeScript Documentation]] - Official TypeScript handbook
- [[https://tc39.es/ecma262/][ECMAScript Specification]] - JavaScript language specification

*** TypeScript & Type Safety
- [[https://www.typescriptlang.org/docs/handbook/intro.html][TypeScript Handbook]] - Complete TypeScript guide
- [[https://github.com/total-typescript/beginners-typescript-tutorial][Total TypeScript]] - TypeScript learning resources
- [[https://quicktype.io/][QuickType]] - Generate types from JSON
- [[https://zod.dev/][Zod]] - TypeScript-first schema validation

*** JavaScript/TypeScript Testing
- [[https://jestjs.io/][Jest]] - JavaScript testing framework
- [[https://vitest.dev/][Vitest]] - Fast unit testing for Vite projects
- [[https://testing-library.com/][Testing Library]] - React/Vue/Angular testing utilities
- [[https://playwright.dev/][Playwright]] - End-to-end testing

*** JavaScript/TypeScript Security
- [[https://eslint.org/docs/latest/rules/][ESLint Security Rules]] - Linting for security
- [[https://github.com/cure53/DOMPurify][DOMPurify]] - XSS sanitizer
- [[https://snyk.io/][Snyk]] - Dependency vulnerability scanner
- [[https://cheatsheetseries.owasp.org/cheatsheets/Nodejs_Security_Cheat_Sheet.html][OWASP Node.js Security]] - Node.js security best practices

*** Code Quality & Formatting
- [[https://eslint.org/][ESLint]] - JavaScript/TypeScript linter
- [[https://prettier.io/][Prettier]] - Code formatter
- [[https://typescript-eslint.io/][TypeScript ESLint]] - TypeScript-specific linting
- [[https://biomejs.dev/][Biome]] - Fast formatter and linter

*** Frameworks & Libraries
- [[https://react.dev/][React Documentation]] - Official React docs
- [[https://nextjs.org/docs][Next.js Documentation]] - React framework
- [[https://vuejs.org/guide/introduction.html][Vue.js Guide]] - Vue.js framework
- [[https://nodejs.org/docs/latest/api/][Node.js Documentation]] - Server-side JavaScript

** Python Development

*** Official Python Documentation
- [[https://docs.python.org/3/][Python 3 Documentation]] - Official comprehensive documentation
- [[https://peps.python.org/pep-0008/][PEP 8]] - Python style guide
- [[https://peps.python.org/pep-0257/][PEP 257]] - Docstring conventions
- [[https://peps.python.org/pep-0484/][PEP 484]] - Type hints
- [[https://docs.python.org/3/library/typing.html][typing module]] - Type hints documentation

*** Python Testing
- [[https://docs.pytest.org/][pytest Documentation]] - Popular testing framework
- [[https://docs.python.org/3/library/unittest.html][unittest]] - Built-in testing framework
- [[https://docs.python.org/3/library/unittest.mock.html][unittest.mock]] - Mocking library
- [[https://coverage.readthedocs.io/][Coverage.py]] - Code coverage measurement
- [[https://hypothesis.readthedocs.io/][Hypothesis]] - Property-based testing

*** Python Security
- [[https://bandit.readthedocs.io/][Bandit]] - Python security linter
- [[https://github.com/pyupio/safety][Safety]] - Check dependencies for vulnerabilities
- [[https://github.com/pypa/pip-audit][pip-audit]] - Audit Python packages
- [[https://owasp.org/www-project-top-ten/][OWASP Top 10]] - Web security vulnerabilities
- [[https://cheatsheetseries.owasp.org/cheatsheets/Python_Security_Cheat_Sheet.html][OWASP Python Security]] - Python security best practices

*** Python Code Quality
- [[https://black.readthedocs.io/][Black]] - Code formatter
- [[https://flake8.pycqa.org/][Flake8]] - Linting tool
- [[https://pycqa.github.io/isort/][isort]] - Import sorting
- [[https://pylint.readthedocs.io/][Pylint]] - Code analyzer
- [[https://mypy.readthedocs.io/][mypy]] - Static type checker

*** Python Type Hints
- [[https://mypy.readthedocs.io/][mypy Documentation]] - Type checking
- [[https://typing-extensions.readthedocs.io/][typing_extensions]] - Backported typing features
- [[https://docs.pydantic.dev/][Pydantic]] - Data validation using type hints
- [[https://pyright-python.readthedocs.io/][Pyright]] - Microsoft's type checker

** Rails Development

*** Official Rails Documentation
- [[https://guides.rubyonrails.org/][Rails Guides]] - Official comprehensive guides
- [[https://guides.rubyonrails.org/security.html][Rails Security Guide]] - Security best practices
- [[https://guides.rubyonrails.org/active_record_migrations.html][Rails Migrations Guide]] - Migration documentation
- [[https://guides.rubyonrails.org/upgrading_ruby_on_rails.html][Rails Upgrading Guide]] - Version upgrade instructions
- [[https://api.rubyonrails.org/][Rails API Documentation]] - Complete API reference

*** Rails Security
- [[https://github.com/presidentbeef/brakeman][Brakeman]] - Static security analyzer for Rails
- [[https://github.com/rubysec/bundler-audit][bundler-audit]] - Check for vulnerable gem versions
- [[https://owasp.org/www-project-top-ten/][OWASP Top 10]] - Common web vulnerabilities
- [[https://brakemanscanner.org/][Brakeman Scanner]] - Rails security scanning tool

*** Rails Performance
- [[https://github.com/flyerhzm/bullet][Bullet gem]] - N+1 query detector
- [[https://github.com/charkost/prosopite][Prosopite]] - Alternative N+1 detector
- [[https://github.com/palkan/n_plus_one_control][n_plus_one_control]] - RSpec/Minitest matchers for N+1
- [[https://github.com/MiniProfiler/rack-mini-profiler][rack-mini-profiler]] - Performance profiling

*** Rails Migration Safety
- [[https://github.com/ankane/strong_migrations][strong_migrations gem]] - Catch unsafe migrations
- [[https://github.com/fatkodima/online_migrations][online_migrations gem]] - Advanced PostgreSQL migration safety
- [[https://www.postgresql.org/docs/current/sql-altertable.html][PostgreSQL ALTER TABLE]] - Understanding database locks

*** Rails Testing
- [[https://rspec.info/][RSpec]] - Behavior-driven testing framework
- [[https://github.com/thoughtbot/factory_bot][FactoryBot]] - Fixture replacement for testing
- [[https://github.com/simplecov-ruby/simplecov][SimpleCov]] - Code coverage analysis
- [[https://github.com/teamcapybara/capybara][Capybara]] - Integration testing framework

*** Rails Conventions
- [[https://rails.rubystyle.guide/][Rails Style Guide]] - Community-driven style guide
- [[https://github.com/rubocop/rubocop-rails][RuboCop Rails]] - Rails-specific linting
- [[https://github.com/troessner/reek][Reek]] - Code smell detector

*** Rails Upgrade Resources
- [[https://railsdiff.org][RailsDiff.org]] - Compare Rails versions side-by-side
- [[https://guides.rubyonrails.org/7_2_release_notes.html][Rails 7.2 Release Notes]]
- [[https://guides.rubyonrails.org/8_0_release_notes.html][Rails 8.0 Release Notes]]
