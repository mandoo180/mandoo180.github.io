<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs Configurations</title>
<meta name="generator" content="Org Mode" />
<meta name="viewport" content="width=device-width, initial-scale=1"><script src="https://cdn.tailwindcss.com?plugins=typography"></script><script>window.tailwind = window.tailwind || {};window.tailwind.config = { darkMode: 'media' }; /* follow browser */</script>
<style>
  :root { color-scheme: light dark; }      /* hint to UA widgets, form controls */
  body { margin:0; }
  @media (prefers-color-scheme: light) { body { background: #ffffff; } }
  @media (prefers-color-scheme: dark)  { body { background: #0b0b0b; } }
</style>

<script src="assets/scripts/org-info.js">
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
// @license-end
</script>

<script>
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
org_html_manager.set("TOC_DEPTH", "3");
org_html_manager.set("LINK_HOME", "");
org_html_manager.set("LINK_UP", "");
org_html_manager.set("LOCAL_TOC", "1");
org_html_manager.set("VIEW_BUTTONS", "0");
org_html_manager.set("MOUSE_HINT", "underline");
org_html_manager.set("FIXED_TOC", "0");
org_html_manager.set("TOC", "1");
org_html_manager.set("VIEW", "info");
org_html_manager.setup();  // activate after the parameters are set
// @license-end
</script>
</head>
<body>
<main id="content" class="prose prose-zinc dark:prose-invert mx-auto w-full max-w-3xl md:max-w-4xl lg:max-w-5xl xl:max-w-6xl px-4 sm:px-6 lg:px-8">
<h1 class="title">Emacs Configurations</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orga148931">1. Environment</a></li>
<li><a href="#orgd62791a">2. Easy Editing</a></li>
<li><a href="#orgede973e">3. Completion</a></li>
<li><a href="#org8327e08">4. Theme</a></li>
<li><a href="#org8354286">5. Org Mode</a></li>
<li><a href="#org44ba7dc">6. Note Taking</a></li>
<li><a href="#org1e369a7">7. Programming Languages</a>
<ul>
<li><a href="#org0a91f8a">7.1. Python</a>
<ul>
<li><a href="#orga0be1c7">7.1.1. Ubuntu</a></li>
<li><a href="#org99ce7cc">7.1.2. macOS</a></li>
<li><a href="#orgc80d83d">7.1.3. Windows</a></li>
</ul>
</li>
<li><a href="#org54b0fd1">7.2. JavaScript</a></li>
<li><a href="#orgae7b246">7.3. C</a></li>
<li><a href="#org06860a0">7.4. Powershell</a></li>
</ul>
</li>
<li><a href="#orga6fcdae">8. Eshell</a></li>
<li><a href="#orgadbe52e">9. Windows</a></li>
<li><a href="#orgacd5729">10. Gen AI</a></li>
<li><a href="#org7a49a3a">11. Reading</a></li>
<li><a href="#orge2864bb">12. Custom Functions</a>
<ul>
<li><a href="#orga00de32">12.1. Scratch Buffers</a></li>
</ul>
</li>
<li><a href="#org3909e1e">13. Local File Variables</a></li>
</ul>
</div>
</div>


<div id="outline-container-orga148931" class="outline-2">
<h2 id="orga148931"><span class="section-number-2">1.</span> Environment</h2>
<div class="outline-text-2" id="text-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">-*- lexical-binding: t; -*-
</span>
(<span class="org-keyword">use-package</span> exec-path-from-shell
  <span class="org-builtin">:config</span>
  (exec-path-from-shell-initialize))

(<span class="org-keyword">provide</span> '<span class="org-constant">environment-conf</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd62791a" class="outline-2">
<h2 id="orgd62791a"><span class="section-number-2">2.</span> Easy Editing</h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">-*- lexical-binding: t; -*-
</span>
(<span class="org-keyword">dolist</span> (mode '(text-mode-hook
                prog-mode-hook
                conf-mode-hook))
  (add-hook mode (<span class="org-keyword">lambda</span> ()
                   (<span class="org-keyword">setq</span> display-line-numbers-width 6)
                   (display-line-numbers-mode 1)
                   (display-fill-column-indicator-mode 0))))

(add-hook 'after-init-hook 'electric-pair-mode)
(add-hook 'after-init-hook 'electric-indent-mode)
(add-hook 'after-init-hook 'global-auto-revert-mode)
(add-hook 'after-init-hook 'delete-selection-mode)
(add-hook 'after-init-hook 'transient-mark-mode)
(add-hook 'after-init-hook 'subword-mode)

(<span class="org-keyword">use-package</span> multiple-cursors
  <span class="org-builtin">:config</span>
  (global-set-key (kbd <span class="org-string">"C-&lt;"</span>) 'mc/mark-previous-like-this)
  (global-set-key (kbd <span class="org-string">"C-&gt;"</span>) 'mc/mark-next-like-this)
  (global-set-key (kbd <span class="org-string">"C-c C-&lt;"</span>) 'mc/mark-all-like-this)
  (global-set-key (kbd <span class="org-string">"C-M-&lt;mouse-1&gt;"</span>) 'mc/add-cursor-on-click))

(<span class="org-keyword">use-package</span> hungry-delete
  <span class="org-builtin">:diminish</span>
  <span class="org-builtin">:config</span>
  (global-hungry-delete-mode t))

(<span class="org-keyword">use-package</span> expand-region
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span>
  (<span class="org-string">"M-h"</span> . er/expand-region)
  (<span class="org-string">"M-H"</span> . er/contract-region))

(<span class="org-keyword">use-package</span> so-long
  <span class="org-builtin">:config</span>
  (global-so-long-mode 1))

(<span class="org-keyword">defun</span> <span class="org-function-name">kill-back-to-indentation</span> ()
  <span class="org-doc">"Kill from point back to the first non-whitespace character on the line."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let</span> ((prev-pos (point)))
    (back-to-indentation)
    (kill-region (point) prev-pos)))

(global-set-key (kbd <span class="org-string">"C-M-&lt;backspace&gt;"</span>) 'kill-back-to-indentation)

(<span class="org-keyword">defun</span> <span class="org-function-name">kill-curr-buffer</span> ()
  (<span class="org-keyword">interactive</span>)
  (kill-buffer (current-buffer)))

(global-set-key (kbd <span class="org-string">"C-x k"</span>) 'kill-curr-buffer)

(<span class="org-keyword">defun</span> <span class="org-function-name">next-open-line</span> ()
  (<span class="org-keyword">interactive</span>)
  (move-end-of-line 1)
  (newline-and-indent))

(global-set-key (kbd <span class="org-string">"S-&lt;return&gt;"</span>) 'next-open-line)

(<span class="org-keyword">defun</span> <span class="org-function-name">upcase-word-backwards</span> ()
  <span class="org-doc">"Uppercase word backwards."</span>
  (<span class="org-keyword">interactive</span>)
  (backward-word)
  (upcase-word 1)
  (backward-word))

(global-set-key (kbd <span class="org-string">"M-U"</span>) 'upcase-word-backwards)

(<span class="org-keyword">defun</span> <span class="org-function-name">downcase-word-backwards</span> ()
  <span class="org-doc">"Lowercase word backwards."</span>
  (<span class="org-keyword">interactive</span>)
  (backward-word)
  (downcase-word 1)
  (backward-word))

(global-set-key (kbd <span class="org-string">"M-L"</span>) 'downcase-word-backwards)

(<span class="org-keyword">use-package</span> sudo-edit)

(<span class="org-keyword">use-package</span> undo-tree
  <span class="org-builtin">:init</span>
  (global-undo-tree-mode 1)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> undo-tree-history-directory-alist '((<span class="org-string">"."</span> . <span class="org-string">"~/.config/emacs/undo-tree-history"</span>)))
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-/"</span> . undo-tree-undo)
         (<span class="org-string">"C-?"</span> . undo-tree-redo)
         (<span class="org-string">"C-z"</span> . undo-tree-undo)     <span class="org-comment-delimiter">; </span><span class="org-comment">Zap to character isn't helpful
</span>         (<span class="org-string">"C-S-z"</span> . undo-tree-redo)))


(<span class="org-keyword">provide</span> '<span class="org-constant">editing-conf</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgede973e" class="outline-2">
<h2 id="orgede973e"><span class="section-number-2">3.</span> Completion</h2>
<div class="outline-text-2" id="text-3">
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">-*- lexical-binding: t; -*-
</span>
(<span class="org-keyword">use-package</span> vertico
  <span class="org-builtin">:init</span>
  (vertico-mode))

(<span class="org-keyword">use-package</span> savehist
  <span class="org-builtin">:init</span>
  (savehist-mode))

(<span class="org-keyword">use-package</span> orderless
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:custom</span>
  (completion-styles '(orderless basic))
  (completion-category-defaults nil)
  (completion-category-overrides '((file (styles partial-completion)))))

(<span class="org-keyword">use-package</span> marginalia
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:diminish</span>
  <span class="org-builtin">:config</span>
  (marginalia-mode t))

(<span class="org-keyword">use-package</span> consult
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">C-x bindings
</span>  (<span class="org-string">"C-x C-r"</span> . consult-recent-file)
  (<span class="org-string">"C-x r e"</span> . consult-recent-file)
  (<span class="org-string">"C-x b"</span> . consult-buffer)
  (<span class="org-string">"C-x C-b"</span> . consult-buffer)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">("C-x 4 b" . consult-buffer-other-window)
</span>  (<span class="org-string">"C-x 4 b"</span> . switch-to-buffer-other-window)
  (<span class="org-string">"C-x 5 b"</span> . consult-buffer-other-frame)
  (<span class="org-string">"C-x t b"</span> . consult-buffer-other-tab)
  (<span class="org-string">"C-x r b"</span> . consult-bookmark)
  (<span class="org-string">"C-x p b"</span> . consult-project-buffer)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Custom M-# bindings for fast register access
</span>  (<span class="org-string">"M-#"</span> . consult-register-load)
  (<span class="org-string">"M-'"</span> . consult-register-store)          <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. abbrev-prefix-mark (unrelated)
</span>  (<span class="org-string">"C-M-#"</span> . consult-register)
  (<span class="org-string">"M-y"</span> . consult-yank-pop)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">M-g bindings
</span>  (<span class="org-string">"M-g e"</span> . consult-complie-error)
  (<span class="org-string">"M-g f"</span> . consult-fly-make)
  (<span class="org-string">"M-g g"</span> . consult-goto-line)
  (<span class="org-string">"M-g M-g"</span> . consult-goto-line)
  (<span class="org-string">"M-g o"</span> . consult-outline)
  (<span class="org-string">"M-g m"</span> . consult-mark)
  (<span class="org-string">"M-g k"</span> . consult-global-mark)
  (<span class="org-string">"M-g i"</span> . consult-imenu)
  (<span class="org-string">"M-g I"</span> . consult-imenu-multi)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">M-s bindings in `</span><span class="org-comment"><span class="org-constant">search-map</span></span><span class="org-comment">'
</span>  (<span class="org-string">"M-s d"</span> . consult-find)                  <span class="org-comment-delimiter">;; </span><span class="org-comment">Alternative: consult-fd
</span>  (<span class="org-string">"M-s c"</span> . consult-locate)
  (<span class="org-string">"M-s g"</span> . consult-grep)
  (<span class="org-string">"M-s G"</span> . consult-git-grep)
  (<span class="org-string">"M-s r"</span> . consult-ripgrep)
  (<span class="org-string">"M-s l"</span> . consult-line)
  (<span class="org-string">"M-s L"</span> . consult-line-multi)
  (<span class="org-string">"M-s k"</span> . consult-keep-lines)
  (<span class="org-string">"M-s h"</span> . consult-org-heading)
  (<span class="org-string">"M-s u"</span> . consult-focus-lines))

(<span class="org-keyword">use-package</span> corfu
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Optional customizations
</span>  <span class="org-builtin">:custom</span>
  (corfu-cycle t)                <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable cycling for `</span><span class="org-comment"><span class="org-constant">corfu-next/previous</span></span><span class="org-comment">'
</span>  (corfu-auto t)                 <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable auto completion
</span>  (corfu-auto-delay 1)
  (corfu-auto-prefix 3)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable Corfu only for certain modes. See also `</span><span class="org-comment"><span class="org-constant">global-corfu-modes</span></span><span class="org-comment">'.
</span>  <span class="org-builtin">:hook</span>
  ((prog-mode . corfu-mode)
   (eshell-mode . corfu-mode))
  <span class="org-builtin">:config</span>
  (keymap-set corfu-map <span class="org-string">"RET"</span> #'corfu-send))

(<span class="org-keyword">use-package</span> yasnippet
  <span class="org-builtin">:hook</span>
  (prog-mode . yas-minor-mode))

(<span class="org-keyword">use-package</span> yasnippet-snippets)

(<span class="org-keyword">use-package</span> wgrep
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (define-key grep-mode-map (kbd <span class="org-string">"C-c C-q"</span>) 'wgrep-change-to-wgrep-mode)
  (define-key grep-mode-map (kbd <span class="org-string">"w"</span>) 'wgrep-change-to-wgrep-mode))

(<span class="org-keyword">use-package</span> recentf
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> recentf-max-saved-items 200)
  (<span class="org-keyword">setq</span> recentf-filename-handlers
        (append '(abbreviate-file-name) recentf-filename-handlers))
  (recentf-mode))

(<span class="org-keyword">provide</span> '<span class="org-constant">completion-conf</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8327e08" class="outline-2">
<h2 id="org8327e08"><span class="section-number-2">4.</span> Theme</h2>
<div class="outline-text-2" id="text-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">autothemer</span>)

(autothemer-deftheme simple
                     <span class="org-string">"A simple theme."</span>

                     ((((class color) (min-colors #xFFFFFF))) <span class="org-comment-delimiter">;; </span><span class="org-comment">We're only concerned with graphical Emacs
</span>
                      <span class="org-comment-delimiter">;; </span><span class="org-comment">Define our color palette
</span>                      (paper-black        <span class="org-string">"#373A40"</span>)
                      (paper-white        <span class="org-string">"#EEEEEE"</span>)
                      (paper-orange       <span class="org-string">"#F7954A"</span>)
                      (paper-dark-orange  <span class="org-string">"#DC5F00"</span>)
                      (paper-light-orange <span class="org-string">"#FCDAC0"</span>)
                      (paper-gray         <span class="org-string">"#D9D9D9"</span>)
                      (paper-dark-gray    <span class="org-string">"#686D76"</span>))

                     <span class="org-comment-delimiter">;; </span><span class="org-comment">Customize faces
</span>                     ((default                      (<span class="org-builtin">:foreground</span> paper-white <span class="org-builtin">:background</span> paper-black))
                      (cursor                       (<span class="org-builtin">:background</span> paper-dark-orange))
                      (region                       (<span class="org-builtin">:background</span> paper-dark-gray))
                      (fringe                       (<span class="org-builtin">:background</span> paper-black))
                      (mode-line                    (<span class="org-builtin">:background</span> paper-black))

                      (font-lock-keyword-face       (<span class="org-builtin">:foreground</span> paper-white <span class="org-builtin">:weight</span> 'regular))
                      (font-lock-constant-face      (<span class="org-builtin">:foreground</span> paper-white <span class="org-builtin">:weight</span> 'regular))
                      (font-lock-string-face        (<span class="org-builtin">:foreground</span> paper-gray))
                      (font-lock-builtin-face       (<span class="org-builtin">:foreground</span> paper-white))
                      (font-lock-comment-face       (<span class="org-builtin">:foreground</span> paper-dark-gray))
                      (font-lock-type-face          (<span class="org-builtin">:foreground</span> paper-white))
                      (font-lock-function-name-face (<span class="org-builtin">:foreground</span> paper-white <span class="org-builtin">:weight</span> 'light))
                      (font-lock-variable-name-face (<span class="org-builtin">:foreground</span> paper-white <span class="org-builtin">:weight</span> 'light))
                      (font-lock-warning-face       (<span class="org-builtin">:foreground</span> paper-white <span class="org-builtin">:weight</span> 'light))

                      (link                         (<span class="org-builtin">:foreground</span> paper-light-orange <span class="org-builtin">:underline</span> t))
                      (link-visited                 (<span class="org-builtin">:foreground</span> paper-gray <span class="org-builtin">:underline</span> t))
                      (highlight                    (<span class="org-builtin">:foreground</span> paper-white <span class="org-builtin">:background</span> paper-dark-gray <span class="org-builtin">:underline</span> t))
                      (isearch                      (<span class="org-builtin">:background</span> paper-gray))

                      (org-ellipsis                 (<span class="org-builtin">:foreground</span> paper-dark-gray))
                      (org-tag                      (<span class="org-builtin">:foreground</span> paper-dark-gray <span class="org-builtin">:height</span> 0.95))

                      (org-block                    (<span class="org-builtin">:foreground</span> paper-gray))
                      (org-table                    (<span class="org-builtin">:foreground</span> paper-white))

                      ))

(provide-theme 'simple)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8354286" class="outline-2">
<h2 id="org8354286"><span class="section-number-2">5.</span> Org Mode</h2>
<div class="outline-text-2" id="text-5">
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">-*- lexical-binding: t; -*-
</span>
(<span class="org-keyword">use-package</span> org
  <span class="org-builtin">:pin</span> org
  <span class="org-builtin">:commands</span> (org-capture org-agenda)
  <span class="org-builtin">:config</span>
  (display-line-numbers-mode 0)
  (<span class="org-keyword">setq</span> org-agenda-start-with-log-mode t
        org-catch-invisible-edits 'show
        org-edit-timestamp-down-means-later t
        org-export-coding-system 'utf-8
        org-export-kill-product-buffer-when-displayed t
        org-fast-tag-selection-single-key 'expert
        org-hide-emphasis-markers t
        org-html-validation-link nil
        org-image-actual-width '(450)
        org-log-done 'time
        org-log-into-drawer t
        org-pretty-entities nil
        org-startup-indented nil
        org-startup-with-inline-images t
        org-tags-column 80
        org-src-window-setup 'current-window))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Lots of stuff from http://doc.norang.ca/org-mode.html
</span>(<span class="org-keyword">with-eval-after-load</span> 'org
  (<span class="org-keyword">require</span> '<span class="org-constant">org-tempo</span>)
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"txt"</span> . <span class="org-string">"src text"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"sh"</span> . <span class="org-string">"src shell"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"el"</span> . <span class="org-string">"src emacs-lisp"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"py"</span> . <span class="org-string">"src python"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"js"</span> . <span class="org-string">"src javascript"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"ts"</span> . <span class="org-string">"src typescript"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"java"</span> . <span class="org-string">"src java"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"scm"</span> . <span class="org-string">"src scheme"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"sql"</span> . <span class="org-string">"src sql"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"rust"</span> . <span class="org-string">"src rust"</span>))

  (org-babel-do-load-languages
   'org-babel-load-languages
   (seq-filter
    (<span class="org-keyword">lambda</span> (pair)
      (locate-library (concat <span class="org-string">"ob-"</span> (symbol-name (car pair)))))
    '((dot . t)
      (gnuplot . t)
      (latex . t)
      (python . t)
      (javascript . t)
      (typescript . t)
      (shell . t)
      (scheme . t)
      (sql . t)
      (sqlite . t)))))

(<span class="org-keyword">use-package</span> org-appear
  <span class="org-builtin">:hook</span>
  (org-mode . org-appear-mode)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> org-appear-autoemphasis t)
  (<span class="org-keyword">setq</span> org-appear-autolinks t)
  (<span class="org-keyword">setq</span> org-appear-autosubmarkers t)
  (<span class="org-keyword">setq</span> org-appear-autoentities t)
  (<span class="org-keyword">setq</span> org-appear-autokeywords t)
  (<span class="org-keyword">setq</span> org-appear-inside-latex t)
  (<span class="org-keyword">setq</span> org-appear-delay 0.0)
  (<span class="org-keyword">setq</span> org-appear-trigger 'always))

<span class="org-comment-delimiter">;; </span><span class="org-comment">(use-package org-fragtog
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:after org
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:hook
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(org-mode . org-fragtog-mode)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:custom
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(org-startup-with-latex-preview nil)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(org-format-latex-options
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(plist-put org-format-latex-options :scale 2)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(plist-put org-format-latex-options :foreground 'auto)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(plist-put org-format-latex-options :background 'auto)))
</span>
(<span class="org-keyword">defun</span> <span class="org-function-name">handle-org-hook</span> ()
  (<span class="org-keyword">setq-local</span> electric-pair-inhibit-predicate `(<span class="org-keyword">lambda</span> (c)
                                                 (<span class="org-keyword">if</span> (char-equal c ?&lt;) t (,electric-pair-inhibit-predicate c)))))

(<span class="org-keyword">defun</span> <span class="org-function-name">handle-org-after-save-hook</span> ()
  (message <span class="org-string">"%s"</span> (buffer-file-name))
  (message <span class="org-string">"%s"</span> (expand-file-name <span class="org-string">"~/Projects/k-org-site/content/configs.org"</span>))
  (<span class="org-keyword">if</span> (string-equal (buffer-file-name) (expand-file-name <span class="org-string">"~/Projects/k-org-site/content/configs.org"</span>))
      (org-babel-tangle)))

(add-hook 'org-mode-hook #'handle-org-hook)
(add-hook 'after-save-hook #'handle-org-after-save-hook)

(<span class="org-keyword">provide</span> '<span class="org-constant">org-conf</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org44ba7dc" class="outline-2">
<h2 id="org44ba7dc"><span class="section-number-2">6.</span> Note Taking</h2>
<div class="outline-text-2" id="text-6">
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">-*- lexical-binding: t; -*-
</span>
(<span class="org-keyword">use-package</span> denote
  <span class="org-builtin">:custom</span>
  (denote-sort-keywords t)
  <span class="org-builtin">:hook</span>
  (dired-mode . denote-dired-mode)
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">require</span> '<span class="org-constant">denote-org-extras</span>))

(<span class="org-keyword">use-package</span> consult-notes
  <span class="org-builtin">:init</span>
  (consult-notes-denote-mode))

(<span class="org-keyword">provide</span> '<span class="org-constant">note-conf</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org1e369a7" class="outline-2">
<h2 id="org1e369a7"><span class="section-number-2">7.</span> Programming Languages</h2>
<div class="outline-text-2" id="text-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">-*- lexical-binding: t; -*-
</span>
(<span class="org-keyword">use-package</span> eglot
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:hook</span>
  (c-mode . eglot-ensure)
  (mhtml-mode . eglot-ensure)
  (python-mode . eglot-ensure)
  (javascript-mode . eglot-ensure)
  (js-mode . eglot-ensure)
  (typescript-ts-mode . eglot-ensure))

(<span class="org-keyword">use-package</span> tree-sitter)

(<span class="org-keyword">use-package</span> treesit-auto
  <span class="org-builtin">:config</span>
  (treesit-auto-add-to-auto-mode-alist 'all))
<span class="org-comment-delimiter">;; </span><span class="org-comment">(use-package tree-sitter-langs)
</span>
(<span class="org-keyword">require</span> '<span class="org-constant">treesit</span>)
(add-to-list 'treesit-language-source-alist '(python <span class="org-string">"https://github.com/tree-sitter/tree-sitter-python.git"</span>))
(add-to-list 'treesit-language-source-alist '(c <span class="org-string">"https://github.com/tree-sitter/tree-sitter-c.git"</span>))
(add-to-list 'treesit-language-source-alist '(java <span class="org-string">"https://github.com/tree-sitter/tree-sitter-java.git"</span>))
(add-to-list 'treesit-language-source-alist '(typescript <span class="org-string">"https://github.com/tree-sitter/tree-sitter-typescript.git"</span>))
(add-to-list 'treesit-language-source-alist '(javascript <span class="org-string">"https://github.com/tree-sitter/tree-sitter-javascript.git"</span>))
(add-to-list 'treesit-language-source-alist '(css <span class="org-string">"https://github.com/tree-sitter/tree-sitter-css.git"</span>))
(add-to-list 'treesit-language-source-alist '(html <span class="org-string">"https://github.com/tree-sitter/tree-sitter-html.git"</span>))
(add-to-list 'treesit-language-source-alist '(bash <span class="org-string">"https://github.com/tree-sitter/tree-sitter-bash.git"</span>))

(add-to-list 'major-mode-remap-alist '(python-mode . python-ts-mode))
(add-to-list 'major-mode-remap-alist '(c-mode . c-ts-mode))
(add-to-list 'major-mode-remap-alist '(java-mode . java-ts-mode))
(add-to-list 'major-mode-remap-alist '(tsx-mode . typescript-ts-mode))
(add-to-list 'major-mode-remap-alist '(js-mode . js-ts-mode))
(add-to-list 'major-mode-remap-alist '(css-mode . css-ts-mode))
(add-to-list 'major-mode-remap-alist '(sh-mode . bash-ts-mode))
(add-to-list 'major-mode-remap-alist '(lua-mode . lua-ts-mode))

(<span class="org-keyword">use-package</span> ielm
  <span class="org-builtin">:init</span>
  (add-hook 'ielm-mode-hook 'turn-on-eldoc-mode))

(<span class="org-keyword">use-package</span> flycheck
  <span class="org-builtin">:init</span>
  (add-hook 'after-init-hook 'global-flycheck-mode)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span> flycheck-disabled-checkers '(emacs-lisp-checkdoc)))

(<span class="org-keyword">use-package</span> eldoc
  <span class="org-builtin">:init</span>  (<span class="org-keyword">setq</span> eldoc-idle-delay 0.1))

<span class="org-comment-delimiter">;; </span><span class="org-comment">use pyvenv-activate/deactivate
</span>(<span class="org-keyword">use-package</span> pyvenv)


(<span class="org-keyword">provide</span> '<span class="org-constant">lang-conf</span>)
</pre>
</div>
</div>

<div id="outline-container-org0a91f8a" class="outline-3">
<h3 id="org0a91f8a"><span class="section-number-3">7.1.</span> Python</h3>
<div class="outline-text-3" id="text-7-1">
</div>
<div id="outline-container-orga0be1c7" class="outline-4">
<h4 id="orga0be1c7"><span class="section-number-4">7.1.1.</span> Ubuntu</h4>
<div class="outline-text-4" id="text-7-1-1">
<div class="org-src-container">
<pre class="src src-shell">sudo apt update
sudo apt install python3-full
<span class="org-builtin">cd</span> ~
python3 -m venv venv
<span class="org-builtin">export</span> <span class="org-variable-name">PATH</span>=<span class="org-string">"$HOME/venv/bin:$PATH"</span>
pip install python-lsp-server flake8
</pre>
</div>
</div>
</div>

<div id="outline-container-org99ce7cc" class="outline-4">
<h4 id="org99ce7cc"><span class="section-number-4">7.1.2.</span> macOS</h4>
<div class="outline-text-4" id="text-7-1-2">
<div class="org-src-container">
<pre class="src src-shell">
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc80d83d" class="outline-4">
<h4 id="orgc80d83d"><span class="section-number-4">7.1.3.</span> Windows</h4>
<div class="outline-text-4" id="text-7-1-3">
<div class="org-src-container">
<pre class="src src-text">
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org54b0fd1" class="outline-3">
<h3 id="org54b0fd1"><span class="section-number-3">7.2.</span> JavaScript</h3>
<div class="outline-text-3" id="text-7-2">
<div class="org-src-container">
<pre class="src src-shell">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh | bash
<span class="org-builtin">source</span> ~/.bashrc
nvm install node
nvm use node
npm install typescript <span class="org-sh-escaped-newline">\</span>
    typescript-language-server <span class="org-sh-escaped-newline">\</span>
    vscode-langservers-extracted
</pre>
</div>
</div>
</div>

<div id="outline-container-orgae7b246" class="outline-3">
<h3 id="orgae7b246"><span class="section-number-3">7.3.</span> C</h3>
</div>
<div id="outline-container-org06860a0" class="outline-3">
<h3 id="org06860a0"><span class="section-number-3">7.4.</span> Powershell</h3>
</div>
</div>

<div id="outline-container-orga6fcdae" class="outline-2">
<h2 id="orga6fcdae"><span class="section-number-2">8.</span> Eshell</h2>
<div class="outline-text-2" id="text-8">
<p>
Redirect output to emacs buffer as below.
</p>

<div class="org-src-container">
<pre class="src src-shell">git log &gt; <span class="org-comment-delimiter">#</span><span class="org-comment">&lt;buffer *scratch*&gt;
</span><span class="org-comment-delimiter"># </span><span class="org-comment">or
</span>git log &gt;(get-buffer <span class="org-string">"*scratch*"</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">-*- lexical-binding: t; -*-
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">I don't need less in emacs
</span>(setenv <span class="org-string">"PAGER"</span> <span class="org-string">"cat"</span>)
<span class="org-comment-delimiter">;; </span><span class="org-comment">because using exec-path-from-shell
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">(setenv "PATH" (concat (concat (getenv "HOME") "/venv/bin") ":" (getenv "PATH")))
</span>
(<span class="org-keyword">use-package</span> eshell-toggle
  <span class="org-builtin">:custom</span>
  (eshell-toggle-size-fraction 3)
  (eshell-toggle-find-project-root-package t) <span class="org-comment-delimiter">;; </span><span class="org-comment">for projectile
</span>  (eshell-toggle-use-projectile-root 'project) <span class="org-comment-delimiter">;; </span><span class="org-comment">for in-built project.el
</span>  (eshell-toggle-run-command nil)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(eshell-toggle-init-function #'eshell-toggle-init-ansi-term)
</span>  <span class="org-builtin">:bind</span>
  (<span class="org-string">"M-`"</span> . eshell-toggle))

(<span class="org-keyword">defun</span> <span class="org-function-name">eshell-below</span>()
  <span class="org-doc">"Split window below with eshell buffer."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let*</span> ((height (/ (window-total-height) 3)))
    (split-window-vertically (- height))
    (other-window 1)
    (eshell)))

(<span class="org-keyword">defun</span> <span class="org-function-name">toggle-eshell</span>()
  <span class="org-doc">"Toggle split window with eshell buffer below."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let*</span> ((w (window-in-direction 'below)))
    (<span class="org-keyword">with-current-buffer</span> (window-buffer w)
      (<span class="org-keyword">if</span> (eq major-mode 'eshell-mode)
          (delete-window w)
        (eshell-below)))))

<span class="org-comment-delimiter">;; </span><span class="org-comment">no use but think it's good to know
</span>(<span class="org-keyword">defun</span> <span class="org-function-name">eshell-buffers</span>()
  <span class="org-doc">"Returns eshell buffer list."</span>
  (delq nil (mapcar (<span class="org-keyword">lambda</span> (buf)
                      (<span class="org-keyword">with-current-buffer</span> buf
                        (<span class="org-keyword">if</span> (eq major-mode 'eshell-mode)
                            buf)))
                    (buffer-list))))

(<span class="org-keyword">defun</span> <span class="org-function-name">handle-eshell-exit</span>()
  <span class="org-doc">"Deletes the window when eshell buffer exits."</span>
  (<span class="org-keyword">if</span> (&gt; (count-windows 1))
      (delete-window)))


(<span class="org-keyword">defun</span> <span class="org-function-name">k/configure-eshell</span> ()
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Save command history when commands are entered
</span>  (add-hook 'eshell-pre-command-hook 'eshell-save-some-history)

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Truncate buffer for performance
</span>  (add-to-list 'eshell-output-filter-functions 'eshell-truncate-buffer)

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Prompt settings
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">(setq-default eshell-prompt-function #'eshell/eshell-local-prompt-function)
</span>
  (<span class="org-keyword">setq</span> eshell-history-size         10000
        eshell-buffer-maximum-lines 10000
        eshell-hist-ignoredups t
        eshell-scroll-to-bottom-on-input 'all
        eshell-error-if-no-glob t
        eshell-save-history-on-exit t
        eshell-prefer-lisp-functions nil
        eshell-destroy-buffer-when-process-dies t)

  (add-hook 'eshell-mode-hook
            (<span class="org-keyword">lambda</span> ()
              (add-to-list 'eshell-visual-commands <span class="org-string">"ssh"</span>)
              (add-to-list 'eshell-visual-commands <span class="org-string">"tail"</span>)
              (add-to-list 'eshell-visual-commands <span class="org-string">"top"</span>)
              (add-to-list 'eshell-visual-commands <span class="org-string">"htop"</span>)
              (add-to-list 'eshell-visual-commands <span class="org-string">"zsh"</span>)
              (add-to-list 'eshell-visual-commands <span class="org-string">"vim"</span>)

              (eshell/alias <span class="org-string">"l"</span> <span class="org-string">"ls -hl $1"</span>)
              (eshell/alias <span class="org-string">"ll"</span> <span class="org-string">"ls -ahl $1"</span>)
              (eshell/alias <span class="org-string">"ff"</span> <span class="org-string">"find-file $1"</span>)
              (eshell/alias <span class="org-string">"emacs"</span> <span class="org-string">"find-file $1"</span>)
              (eshell/alias <span class="org-string">"ffo"</span> <span class="org-string">"find-file-other-window $1"</span>)))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(add-hook 'eshell-exit-hook  #'handle-eshell-exit)
</span>  )

(<span class="org-keyword">use-package</span> eshell
  <span class="org-builtin">:hook</span>
  (eshell-first-time-mode . k/configure-eshell))

<span class="org-comment-delimiter">;; </span><span class="org-comment">(global-set-key (kbd "C-`") #'toggle-eshell)
</span>
(<span class="org-keyword">if</span> (string-equal system-type <span class="org-string">"windows-nt"</span>)
    (<span class="org-keyword">progn</span>
      (<span class="org-keyword">setq</span> eshell-windows-shell-file (executable-find <span class="org-string">"bash"</span>))
      (<span class="org-keyword">setq</span> explicit-shell-file-name (executable-find <span class="org-string">"bash"</span>))
      (<span class="org-keyword">setq</span> shell-file-name (executable-find <span class="org-string">"bash"</span>))
      (setenv <span class="org-string">"SHELL"</span> shell-file-name)
      (setenv <span class="org-string">"BASH_ENV"</span> <span class="org-string">"~/.bashrc"</span>)))

(<span class="org-keyword">provide</span> '<span class="org-constant">eshell-conf</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgadbe52e" class="outline-2">
<h2 id="orgadbe52e"><span class="section-number-2">9.</span> Windows</h2>
<div class="outline-text-2" id="text-9">
<p>
<a href="https://gitlab.com/axgfn/edwina">Edwina gitlab link</a>
<a href="https://github.com/roman/golden-ratio.el">Golden ratio github link</a>
<a href="https://github.com/emacsorphanage/popwin">Popwin github link</a>
</p>

<p>
<b>Note: Critical Errors</b>
</p>

<ol class="org-ol">
<li>When open a buffer in other window with consult-buffer,</li>
</ol>
<p>
it shows all the buffers in sub-windows.
</p>

<ol class="org-ol">
<li>Messages buffer windows keep stacking.</li>
</ol>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Binding</th>
<th scope="col" class="org-left">Action</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>r</code>, <code>C-r</code></td>
<td class="org-left">Arrange windows</td>
</tr>

<tr>
<td class="org-left"><code>n</code>, <code>C-n</code>, <code>SPC</code></td>
<td class="org-left">Move to next window</td>
</tr>

<tr>
<td class="org-left"><code>p</code>, <code>C-p</code></td>
<td class="org-left">Move to previous window</td>
</tr>

<tr>
<td class="org-left"><code>N</code>, <code>C-S-n</code></td>
<td class="org-left">Swap places with the next window</td>
</tr>

<tr>
<td class="org-left"><code>P</code>, <code>C-S-p</code></td>
<td class="org-left">Swap places with the previous window</td>
</tr>

<tr>
<td class="org-left"><code>%</code>, <code>{</code>, <code>[</code></td>
<td class="org-left">Decrease the size of the master area</td>
</tr>

<tr>
<td class="org-left"><code>^</code>, <code>}</code>, <code>]</code></td>
<td class="org-left">Increase the size of the master area</td>
</tr>

<tr>
<td class="org-left"><code>d</code>, <code>C-d</code></td>
<td class="org-left">Decrease number of windows in master</td>
</tr>

<tr>
<td class="org-left"><code>i</code></td>
<td class="org-left">Increase number of windows in master</td>
</tr>

<tr>
<td class="org-left"><code>k</code>, <code>C-k</code></td>
<td class="org-left">Delete window</td>
</tr>

<tr>
<td class="org-left"><code>RET</code></td>
<td class="org-left">Cycle window to/from master area</td>
</tr>

<tr>
<td class="org-left"><code>c</code>, <code>C-c</code></td>
<td class="org-left">Clone current window</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">-*- lexical-binding: t; -*-
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(use-package edwina
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:config
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; (setq display-buffer-base-action '(display-buffer-below-selected))
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(edwina-mode 1))
</span>
(<span class="org-keyword">use-package</span> popper
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-`"</span> . popper-toggle)
         (<span class="org-string">"M-`"</span> . popper-cycle)
         (<span class="org-string">"C-M-`"</span> . popper-toggle-type))
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">setq</span> popper-reference-buffers
        '(<span class="org-string">"\\*Messages\\*"</span>
          <span class="org-string">"Output\\*$"</span>
          <span class="org-string">"\\*Async Shell Command\\*"</span>
          <span class="org-comment-delimiter">;; </span><span class="org-comment">eshell-mode
</span>          help-mode
          compliation-mode))
  (popper-mode 1)
  (popper-echo-mode 1))

(<span class="org-keyword">use-package</span> ace-window
  <span class="org-builtin">:config</span>
  (global-set-key (kbd <span class="org-string">"M-o"</span>) #'ace-window))

(<span class="org-keyword">use-package</span> winner
  <span class="org-builtin">:config</span>
  (winner-mode 1))

(<span class="org-keyword">provide</span> '<span class="org-constant">window-conf</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgacd5729" class="outline-2">
<h2 id="orgacd5729"><span class="section-number-2">10.</span> Gen AI</h2>
<div class="outline-text-2" id="text-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> gptel
  <span class="org-builtin">:config</span>
  (exec-path-from-shell-copy-env <span class="org-string">"GEMINI_API_KEY"</span>)
  (exec-path-from-shell-copy-env <span class="org-string">"OPENAI_API_KEY"</span>)
  (<span class="org-keyword">setq</span> gptel-api-key (getenv <span class="org-string">"OPENAI_API_KEY"</span>))
  (<span class="org-keyword">setq</span> gptel-default-mode 'org-mode))
<span class="org-comment-delimiter">;; </span><span class="org-comment">(setq gptel-model 'gemini-pro
</span><span class="org-comment-delimiter">;;         </span><span class="org-comment">gptel-backend (gptel-make-gemini "Gemini" :key (getenv "GEMINI_API_KEY") :stream t)))
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">(setq gptel-model 'gpt-4o-mini
</span><span class="org-comment-delimiter">;;       </span><span class="org-comment">gptel-backend (gptel-make-openai "ChatGPT" :key (getenv "OPENAI_API_KEY") :stream t)))
</span>
(<span class="org-keyword">provide</span> '<span class="org-constant">gptel-conf</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7a49a3a" class="outline-2">
<h2 id="org7a49a3a"><span class="section-number-2">11.</span> Reading</h2>
<div class="outline-text-2" id="text-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">-*- lexical-binding: t; -*-
</span>
(<span class="org-keyword">use-package</span> visual-fill-column)

(<span class="org-keyword">use-package</span> nov
  <span class="org-builtin">:init</span>
  (add-to-list 'auto-mode-alist '(<span class="org-string">"\\.epub\\'"</span> . nov-mode))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> nov-text-width t)
  (<span class="org-keyword">setq</span> visual-fill-column-center-text t)
  (add-hook 'nov-mode-hook 'visual-line-mode)
  (add-hook 'nov-mode-hook 'visual-fill-column-mode))

(<span class="org-keyword">provide</span> '<span class="org-constant">reading-conf</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge2864bb" class="outline-2">
<h2 id="orge2864bb"><span class="section-number-2">12.</span> Custom Functions</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-orga00de32" class="outline-3">
<h3 id="orga00de32"><span class="section-number-3">12.1.</span> Scratch Buffers</h3>
<div class="outline-text-3" id="text-12-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">-*- lexical-binding: t; -*-
</span>
(<span class="org-keyword">defun</span> <span class="org-function-name">scratch-buffer-string</span>(mode)
  (<span class="org-keyword">with-current-buffer</span> (concat <span class="org-string">"*scratch "</span> mode <span class="org-string">"*"</span> ) (buffer-substring-no-properties (point-min) (point-max))))

(<span class="org-keyword">defun</span> <span class="org-function-name">scratch-buffer-open</span>(mode)
  (switch-to-buffer (get-buffer-create (concat <span class="org-string">"*scratch "</span> mode <span class="org-string">"*"</span>))))

(<span class="org-keyword">defun</span> <span class="org-function-name">scratch-pwsh-buffer-string</span>()
  (scratch-buffer-string <span class="org-string">"pwsh"</span>))

(<span class="org-keyword">defun</span> <span class="org-function-name">scratch-pwsh</span>()
  (<span class="org-keyword">interactive</span>)
  (scratch-buffer-open <span class="org-string">"pwsh"</span>)
  (<span class="org-keyword">if</span> (not (string-equal major-mode <span class="org-string">"powershell-mode"</span>))
      (powershell-mode)))

(<span class="org-keyword">defun</span> <span class="org-function-name">scratch-buffer-run</span>(mode command)
  (get-buffer-create (concat <span class="org-string">"*scratch "</span> mode <span class="org-string">" output*"</span>))
  (<span class="org-keyword">with-current-buffer</span> (concat <span class="org-string">"*scratch "</span> mode <span class="org-string">" output*"</span>)
    (goto-char (point-max))
    (switch-to-buffer-other-window (concat <span class="org-string">"*scratch "</span> mode <span class="org-string">" output*"</span>))
    (insert (eshell-command-result command))))

(<span class="org-keyword">defun</span> <span class="org-function-name">scratch-pwsh-buffer-run</span>()
  (<span class="org-keyword">interactive</span>)
  (scratch-buffer-run <span class="org-string">"pwsh"</span> <span class="org-string">"pwsh -Command (scratch-pwsh-buffer-string)"</span>))

(<span class="org-keyword">defun</span> <span class="org-function-name">scratch-js-buffer-string</span>()
  (scratch-buffer-string <span class="org-string">"js"</span>))

(<span class="org-keyword">defun</span> <span class="org-function-name">scratch-js</span>()
  (<span class="org-keyword">interactive</span>)
  (scratch-buffer-open <span class="org-string">"js"</span>)
  (<span class="org-keyword">if</span> (not (string-equal major-mode <span class="org-string">"js2-mode"</span>))
      (js2-mode)))

(<span class="org-keyword">defun</span> <span class="org-function-name">scratch-js-buffer-run</span>()
  (<span class="org-keyword">interactive</span>)
  (scratch-buffer-run <span class="org-string">"js"</span> <span class="org-string">"node -e (scratch-js-buffer-string)"</span>))


(<span class="org-keyword">provide</span> '<span class="org-constant">custom-functions</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3909e1e" class="outline-2">
<h2 id="org3909e1e"><span class="section-number-2">13.</span> Local File Variables</h2>
<div class="outline-text-2" id="text-13">
</div>
</div>
</main>
</body>
</html>
