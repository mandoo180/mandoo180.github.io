<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs Configurations</title>
<meta name="generator" content="Org Mode" />
<meta name="viewport" content="width=device-width, initial-scale=1"><script src="https://cdn.tailwindcss.com?plugins=typography"></script><script>window.tailwind = window.tailwind || {};window.tailwind.config = { darkMode: 'media' }; /* follow browser */</script>
<style>
  :root { color-scheme: light dark; }      /* hint to UA widgets, form controls */
  body { margin:0; }
  @media (prefers-color-scheme: light) { body { background: #ffffff; } }
  @media (prefers-color-scheme: dark)  { body { background: #0b0b0b; } }
</style>

<script src="assets/scripts/org-info.js">
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
// @license-end
</script>

<script>
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
org_html_manager.set("TOC_DEPTH", "3");
org_html_manager.set("LINK_HOME", "");
org_html_manager.set("LINK_UP", "");
org_html_manager.set("LOCAL_TOC", "1");
org_html_manager.set("VIEW_BUTTONS", "0");
org_html_manager.set("MOUSE_HINT", "underline");
org_html_manager.set("FIXED_TOC", "0");
org_html_manager.set("TOC", "1");
org_html_manager.set("VIEW", "info");
org_html_manager.setup();  // activate after the parameters are set
// @license-end
</script>
</head>
<body>
<main id="content" class="prose prose-zinc dark:prose-invert mx-auto w-full max-w-3xl md:max-w-4xl lg:max-w-5xl xl:max-w-6xl px-4 sm:px-6 lg:px-8">
<h1 class="title">Emacs Configurations</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orged044b4">1. Early Init</a></li>
<li><a href="#orgcc0aed0">2. Init</a></li>
<li><a href="#orgc0ba168">3. Theme</a></li>
<li><a href="#orgc692c9c">4. Window</a></li>
<li><a href="#org5d00637">5. Completion</a></li>
<li><a href="#orga9f6d48">6. Dired</a></li>
<li><a href="#org1a2134d">7. Note</a></li>
<li><a href="#org0d8d2de">8. Shell</a></li>
<li><a href="#orgde1727e">9. Programming</a></li>
<li><a href="#org4ce5061">10. Miscellaneous</a></li>
<li><a href="#orgca6568b">11. Linux</a></li>
<li><a href="#orgb2f7d04">12. MacOS</a></li>
<li><a href="#org29070d4">13. Windows</a></li>
</ul>
</div>
</div>

<div id="outline-container-orged044b4" class="outline-2">
<h2 id="orged044b4"><span class="section-number-2">1.</span> Early Init</h2>
<div class="outline-text-2" id="text-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">early-init.el --- Emacs-Solo (no external packages) Configuration  -*- lexical-binding: t; -*-
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">Early init configuration for Emacs-Solo
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">Startup hacks
</span>(<span class="org-keyword">setq</span> gc-cons-threshold most-positive-fixnum
        gc-cons-percentage 0.6
        vc-handled-backends '(Git))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Hack to avoid being flashbanged
</span>(<span class="org-keyword">defun</span> <span class="org-function-name">emacs-solo/avoid-initial-flash-of-light</span> ()
  <span class="org-doc">"Avoid flash of light when starting Emacs."</span>
  (<span class="org-keyword">setq</span> mode-line-format nil)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">These colors should match your selected theme for maximum effect
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">Note that for catppuccin whenever we create a new frame or open it on terminal
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">it is necessary to reload the theme.
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">(set-face-attribute 'default nil :background "#292D3E" :foreground "#292D3E")
</span>  )

(emacs-solo/avoid-initial-flash-of-light)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Better Window Management handling
</span>(<span class="org-keyword">setq</span> frame-resize-pixelwise t
        frame-inhibit-implied-resize t
        frame-title-format '(<span class="org-string">"Emacs"</span>))

(<span class="org-keyword">setq</span> inhibit-compacting-font-caches t)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Disables unused UI Elements
</span>(menu-bar-mode 0)
(scroll-bar-mode 0)
(tool-bar-mode 0)
(tooltip-mode 0)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Resizing the Emacs frame can be a terribly expensive part of changing the
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">font. By inhibiting this, we easily halve startup times with fonts that are
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">larger than the system default.
</span>(<span class="org-keyword">setq</span> frame-inhibit-implied-resize t
        frame-resize-pixelwise t)

(<span class="org-keyword">provide</span> '<span class="org-constant">early-init</span>)
<span class="org-comment-delimiter">;;; </span><span class="org-comment">early-init.el ends here
</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcc0aed0" class="outline-2">
<h2 id="orgcc0aed0"><span class="section-number-2">2.</span> Init</h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">init.el --- Summary  -*- lexical-binding: t; -*-
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:
</span>(<span class="org-keyword">use-package</span> emacs
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:bind</span>
  ((<span class="org-string">"M-o"</span>         . other-window)
   (<span class="org-string">"C-x r e"</span>     . recentf)
   (<span class="org-string">"C-x C-b"</span>     . ibuffer)
   (<span class="org-string">"C-x k"</span>       .
      (<span class="org-keyword">lambda</span> ()
        <span class="org-doc">"Kill current buffer."</span>
        (<span class="org-keyword">interactive</span>)
        (kill-buffer (buffer-name))))
   (<span class="org-string">"RET"</span>         . newline-and-indent)
   (<span class="org-string">"S-&lt;return&gt;"</span>  .
      (<span class="org-keyword">lambda</span> ()
        <span class="org-doc">"New line and indent."</span>
        (<span class="org-keyword">interactive</span>)
        (end-of-line)
        (newline-and-indent)))
   (<span class="org-string">"C-z"</span>         . nil)
   (<span class="org-string">"C-x C-z"</span>     . nil)
   (<span class="org-string">"C-x C-k RET"</span> . nil)
   (<span class="org-string">"C-S-j"</span>       .
      (<span class="org-keyword">lambda</span>()
        <span class="org-doc">"Custom join line."</span>
        (<span class="org-keyword">interactive</span>)
        (<span class="org-keyword">let</span> ((beg (pos-eol))
                      (end (<span class="org-keyword">progn</span>
                                 (next-line)
                                 (back-to-indentation)
                                 (point))))
              (delete-region beg end))))
   (<span class="org-builtin">:map</span> lisp-interaction-mode-map
               (<span class="org-string">"C-c C-c"</span> . eval-last-sexp))
   (<span class="org-builtin">:map</span> emacs-lisp-mode-map
               (<span class="org-string">"C-c C-c"</span> . eval-last-sexp)))

  <span class="org-builtin">:custom</span>
  (cursor-type '(bar . 3))
  (ad-redefinition-action 'accept)
  (column-number-mode nil)
  (line-number-mode nil)
  (completion-ignore-case t)
  (completions-detailed t)
  (completions-format 'one-column)
  (delete-by-moving-to-trash t)
  (display-line-numbers-width 6)
  (display-line-numbers-widen t)
  (delete-selection-mode 1)
  (enable-recursive minibuffers t)
  (find-ls-option '(<span class="org-string">"-exec ls -ldh {} +"</span> . <span class="org-string">"-ldh"</span>))     <span class="org-comment-delimiter">; </span><span class="org-comment">find-dired results with human readable sizes
</span>  (frame-resize-pixelwise t)
  (global-auto-revert-non-file-buffers t)
  (auto-revert-verbose nil)
  (help-window-select t)
  (history-length 300)
  (inhibit-startup-message t)
  (initial-buffer-choice 'remember-notes)
  (initial-major-mode 'org-mode)
  (initial-scratch-message nil)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(ispell-dictionary "en_US")
</span>  (kill-do-not-save-duplicates t)
  (create-lockfiles nil)                                <span class="org-comment-delimiter">; </span><span class="org-comment">No backup files
</span>  (make-backup-files nil)                               <span class="org-comment-delimiter">; </span><span class="org-comment">No backup files
</span>  (backup-inhibited t)                                  <span class="org-comment-delimiter">; </span><span class="org-comment">No backup files
</span>  (scroll-margin 0)
  (scroll-step 1)
  (scroll-conservatively 101)
  (pixel-scroll-precision-mode t)
  (pixel-scroll-precision-use-momentum nil)
  (ring-bell-function 'ignore)
  (read-answer-short t)
  (recentf-max-saved-items 300)                 <span class="org-comment-delimiter">; </span><span class="org-comment">default is 20
</span>  (recentf-max-menu-items 15)
  (recentf-auto-cleanup (<span class="org-keyword">if</span> (daemonp) 300 'never))
  (recentf-exclude (list <span class="org-string">"^/</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(?:</span></span><span class="org-string">ssh</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">su</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">sudo</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">?:"</span>))
  (remote-file-name-inhibit-delete-by-moving-to-trash t)
  (remote-file-name-inhibit-auto-save t)
  (resize-mini-windows 'grow-only)
  (ring-bell-function #'ignore)
  (savehist-save-minibuffer-history t)  <span class="org-comment-delimiter">; </span><span class="org-comment">t is default
</span>  (savehist-additional-variables
   '(kill-ring                                                  <span class="org-comment-delimiter">; </span><span class="org-comment">clipboard
</span>       register-alist                                           <span class="org-comment-delimiter">; </span><span class="org-comment">macros
</span>       mark-ring global-mark-ring                       <span class="org-comment-delimiter">; </span><span class="org-comment">marks
</span>       search-ring regexp-search-ring)) <span class="org-comment-delimiter">; </span><span class="org-comment">searches
</span>  (save-place-file (expand-file-name <span class="org-string">"saveplace"</span> user-emacs-directory))
  (save-place-limit 600)
  (set-mark-command-repeat-pop t) <span class="org-comment-delimiter">; </span><span class="org-comment">So we can use C-u C-SPC C-SPC C-SPC... instead of C-u C-SPC C-u C-SPC...
</span>  (split-width-threshold 170)     <span class="org-comment-delimiter">; </span><span class="org-comment">So vertical splits are preferred
</span>  (split-height-threshold nil)
  (shr-use-colors nil)
  (switch-to-buffer-obey-display-actions t)
  (tab-always-indent 'complete)
  (tab-width 4)
  (tab-bar-close-button-show nil)
  (tab-bar-new-button-show nil)
  (tab-bar-tab-hints t)
  (treesit-font-lock-level 4)
  (truncate-lines t)
  (undo-limit (* 13 160000))
  (undo-strong-limit (* 13 240000))
  (undo-outer-limit (* 13 24000000))
  (use-dialog-box nil)
  (use-file-dialog nil)
  (use-short-answers t)
  (visible-bell nil)
  (window-combination-resize t)
  (window-resize-pixelwise nil)
  (xref-search-program 'ripgrep)
  (grep-command <span class="org-string">"grep --color=always -nH --null -e "</span>)
  (grep-find-ignored-directories
   '(<span class="org-string">"SCCS"</span> <span class="org-string">"RCS"</span> <span class="org-string">"CVS"</span> <span class="org-string">"MCVS"</span> <span class="org-string">".src"</span> <span class="org-string">".svn"</span> <span class="org-string">".git"</span> <span class="org-string">".hg"</span> <span class="org-string">".bzr"</span> <span class="org-string">"_MTN"</span> <span class="org-string">"_darcs"</span> <span class="org-string">"{arch}"</span> <span class="org-string">"node_modules"</span> <span class="org-string">"build"</span> <span class="org-string">"dist"</span>))
  (locale-coding-system 'utf-8)
  (keyboard-coding-system 'utf-8)
  (savehist-coding-system 'utf-8)
  (file-name-coding-system 'utf-8)
  (buffer-file-coding-system 'utf-8)
  (system-time-locale <span class="org-string">"C"</span>)

  <span class="org-builtin">:init</span>
  (add-to-list 'default-frame-alist '(alpha-background . 100))
  (set-window-margins (selected-window) 2 0)
  (select-frame-set-input-focus (selected-frame))
  (global-auto-revert-mode 1)
  (global-goto-address-mode 1) <span class="org-comment-delimiter">;; </span><span class="org-comment">C-c RET to go
</span>  (indent-tabs-mode nil)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">While indent-tabs-mode nil prevents Emacs from inserting tabs for indentation, C-q TAB will always insert a literal tab character regardless of this setting.
</span>  (recentf-mode 1)
  (repeat-mode 1)
  (savehist-mode 1)
  (save-place-mode 1)
  (winner-mode)
  (xterm-mouse-mode 1)
  (file-name-shadow-mode 1) <span class="org-comment-delimiter">; </span><span class="org-comment">allows us to type a new path without having to delete the current one
</span>  (set-language-environment <span class="org-string">"Korean"</span>)
  (prefer-coding-system 'utf-8)
  (global-unset-key (kbd <span class="org-string">"S-SPC"</span>))
  (put 'narrow-to-region 'disabled nil)
  (message (emacs-init-time))
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Makes everything accept utf-8 as default, so buffers with tsx and so
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">won't ask for encoding (because undecided-unix) every single keystroke
</span>  (modify-coding-system-alist 'file <span class="org-string">""</span> 'utf-8)
  (<span class="org-keyword">setq</span> custom-file (locate-user-emacs-file <span class="org-string">"custom-vars.el"</span>))
  (load custom-file 'noerror 'nomessage)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Set line-number-mode with relative numbering
</span>  (<span class="org-keyword">setq</span> display-line-numbers-type 'absolute)
  (add-hook 'prog-mode-hook #'display-line-numbers-mode)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Add option "d" to whenever using C-x s or C-x C-c, allowing a quick preview
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">of the diff of what you're asked to save.
</span>  (add-to-list 'save-some-buffers-action-alist
                         (list <span class="org-string">"d"</span>
                                       (<span class="org-keyword">lambda</span> (buffer) (diff-buffer-with-file (buffer-file-name buffer)))
                                       <span class="org-string">"show diff between the buffer and its file"</span>))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">On Terminal: changes the vertical separator to a full vertical line
</span>  <span class="org-comment-delimiter">;;              </span><span class="org-comment">and truncation symbol to a right arrow
</span>  (set-display-table-slot standard-display-table 'vertical-border ?\u2502)
  (set-display-table-slot standard-display-table 'truncation ?\u2192)

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Ibuffer filters
</span>  (<span class="org-keyword">setq</span> ibuffer-saved-filter-groups
              '((<span class="org-string">"default"</span>
             (<span class="org-string">"org"</span> (<span class="org-keyword">or</span>
                                 (mode . org-mode)
                                 (name . <span class="org-string">"^\\*Org Src"</span>)
                                 (name . <span class="org-string">"^\\*Org Agenda\\*$"</span>)))
             (<span class="org-string">"tramp"</span> (name . <span class="org-string">"^\\*tramp.*"</span>))
             (<span class="org-string">"emacs"</span> (<span class="org-keyword">or</span>
                                       (name . <span class="org-string">"^\\*scratch\\*$"</span>)
                                       (name . <span class="org-string">"^\\*Messages\\*$"</span>)
                                       (name . <span class="org-string">"^\\*Warnings\\*$"</span>)
                                       (name . <span class="org-string">"^\\*Shell Command Output\\*$"</span>)
                                       (name . <span class="org-string">"^\\*Async-native-compile-log\\*$"</span>)
                                       (name . <span class="org-string">"^\\*straight-"</span>)))
             (<span class="org-string">"ediff"</span> (<span class="org-keyword">or</span>
                                       (name . <span class="org-string">"^\\*ediff.*"</span>)
                                       (name . <span class="org-string">"^\\*Ediff.*"</span>)))
             (<span class="org-string">"dired"</span> (mode . dired-mode))
             (<span class="org-string">"terminal"</span> (<span class="org-keyword">or</span>
                                              (mode . term-mode)
                                              (mode . shell-mode)
                                              (mode . eshell-mode)))
             (<span class="org-string">"help"</span> (<span class="org-keyword">or</span>
                                      (name . <span class="org-string">"^\\*Help\\*$"</span>)
                                      (name . <span class="org-string">"^\\*info\\*$"</span>)
                                      (name . <span class="org-string">"^\\*helpful"</span>))))))
  (add-hook 'ibuffer-mode-hook
                      (<span class="org-keyword">lambda</span> ()
                        (ibuffer-switch-to-saved-filter-groups <span class="org-string">"default"</span>)))
  (<span class="org-keyword">setq</span> ibuffer-show-empty-filter-groups nil) <span class="org-comment-delimiter">; </span><span class="org-comment">don't show empty groups
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">So eshell git commands open an instance of THIS config of Emacs
</span>  (setenv <span class="org-string">"GIT_EDITOR"</span> (format <span class="org-string">"emacs --init-dir=%s "</span> (shell-quote-argument user-emacs-directory)))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">So rebase from eshell opens with a bit of syntax highlight
</span>  (add-to-list 'auto-mode-alist '(<span class="org-string">"/git-rebase-todo\\'"</span> . conf-mode))

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Runs '</span><span class="org-comment"><span class="org-constant">private.el</span></span><span class="org-comment">' after Emacs inits
</span>  (add-hook 'after-init-hook
                      (<span class="org-keyword">lambda</span> ()
                        (<span class="org-keyword">let</span> ((private-file (expand-file-name <span class="org-string">"private.el"</span> user-emacs-directory)))
                              (<span class="org-keyword">when</span> (file-exists-p private-file)
                                (load private-file)))))

  (<span class="org-keyword">use-package</span> use-package
      <span class="org-builtin">:custom</span>
      (package-archives '((<span class="org-string">"melpa"</span>  . <span class="org-string">"https://melpa.org/packages/"</span>)
                                              (<span class="org-string">"org"</span>    . <span class="org-string">"https://orgmode.org/elpa/"</span>)
                                              (<span class="org-string">"elpa"</span>   . <span class="org-string">"https://elpa.gnu.org/packages/"</span>)
                                              (<span class="org-string">"nongnu"</span> . <span class="org-string">"https://elpa.nongnu.org/nongnu/"</span>)))
      (use-package-always-ensure t)
      (use-package-enable-at-startup nil)
      (package-native-compile t)
      (warning-minimun-level 'error))

  (<span class="org-keyword">eval-and-compile</span>
      (add-to-list 'load-path (expand-file-name <span class="org-string">"elisp/settings/"</span> user-emacs-directory)))

  (<span class="org-keyword">cond</span> ((eq system-type 'windows-nt)
               (<span class="org-keyword">require</span> '<span class="org-constant">windows-conf</span>))
              ((eq system-type 'darwin)
               (<span class="org-keyword">require</span> '<span class="org-constant">macos-conf</span>))
              ((eq system-type 'gnu/linux)
               (<span class="org-keyword">require</span> '<span class="org-constant">linux-conf</span>)))

  (<span class="org-keyword">require</span> '<span class="org-constant">theme-conf</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">window-conf</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">completion-conf</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">dired-conf</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">note-conf</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">shell-conf</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">prog-conf</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">misc-conf</span>)

  (<span class="org-keyword">require</span> '<span class="org-constant">douzone-comet-config</span> (expand-file-name <span class="org-string">"elisp/douzone-comet-config.el"</span> user-emacs-directory) t)
  (<span class="org-keyword">require</span> '<span class="org-constant">douzone-comet-service</span> (expand-file-name <span class="org-string">"elisp/douzone-comet-service.el"</span> user-emacs-directory) t)
  (<span class="org-keyword">require</span> '<span class="org-constant">douzone-comet-ui</span> (expand-file-name <span class="org-string">"elisp/douzone-comet-ui.el"</span> user-emacs-directory) t)
  (<span class="org-keyword">require</span> '<span class="org-constant">package-setup-function</span> (expand-file-name <span class="org-string">"elisp/package-setup-function.el"</span> user-emacs-directory) t))

(<span class="org-keyword">provide</span> '<span class="org-constant">init</span>)
<span class="org-comment-delimiter">;;; </span><span class="org-comment">init.el ends here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc0ba168" class="outline-2">
<h2 id="orgc0ba168"><span class="section-number-2">3.</span> Theme</h2>
<div class="outline-text-2" id="text-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">theme-conf.el --- Summary  -*- lexical-binding: t; -*-
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">(use-package doom-themes
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:config
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(if (daemonp)
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">       (add-hook 'server-after-make-frame-hook (lambda () (load-theme 'doom-tokyo-night t)))
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">     (load-theme 'doom-tokyo-night t)))
</span>
(<span class="org-keyword">let</span> ((theme-file (expand-file-name <span class="org-string">"themes/hasliberg-theme.el"</span> user-emacs-directory)))
  (<span class="org-keyword">if</span> (file-exists-p theme-file)
        (<span class="org-keyword">progn</span>
              (load-file theme-file)
              (load-theme 'hasliberg t))))

(<span class="org-keyword">use-package</span> doom-modeline
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">setq</span> mode-line-right-align-edge 'right-fringe) <span class="org-comment-delimiter">;; </span><span class="org-comment">or 'right-margin
</span>  <span class="org-builtin">:custom</span>
  (doom-modeline-height 40)
  (doom-modeline-bar-width 8)
  (doom-modeline-check-icon t)
  (doom-modeline-check-simple-format t)
  (doom-modeline-checker-simple-format t)
  (doom-modeline-hud t)
  (doom-modeline-window-width-limit nil)
  (doom-modeline-spc-face-overrides t)
  (doom-modeline-vcs-max-length 12)
  (doom-modeline-checker-simple-format nil)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">if</span> (daemonp)
        (add-hook 'server-after-make-frame-hook (<span class="org-keyword">lambda</span> () (doom-modeline-mode 1)))
      (doom-modeline-mode 1)))

(<span class="org-keyword">use-package</span> all-the-icons)
(<span class="org-keyword">use-package</span> all-the-icons-dired
  <span class="org-builtin">:config</span>
  (add-hook 'dired-mode-hook 'all-the-icons-dired-mode))

(<span class="org-keyword">use-package</span> beacon
  <span class="org-builtin">:config</span>
  (beacon-mode 1))

(<span class="org-keyword">provide</span> '<span class="org-constant">theme-conf</span>)
<span class="org-comment-delimiter">;;; </span><span class="org-comment">theme-conf.el ends here</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">hasliberg-theme.el --- Serene theme inspired by Swiss alps. -*- lexical-binding:t -*-
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">Copyright (C) 2024  Free Software Foundation, Inc.
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">Author: Ryota Sawada <a href="mailto:rytswd%40gmail.com">&lt;rytswd@gmail.com&gt;</a>
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">Maintainer: Ryota Sawada <a href="mailto:rytswd%40gmail.com">&lt;rytswd@gmail.com&gt;</a>
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">URL: https://github.com/rytswd/hasliberg-theme
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">Keywords: theme
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">Version: 0.1
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">This program is free software; you can redistribute it and/or modify
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">it under the terms of the GNU General Public License as published by
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">the Free Software Foundation, either version 3 of the License, or
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">(at your option) any later version.
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">This program is distributed in the hope that it will be useful,
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">but WITHOUT ANY WARRANTY; without even the implied warranty of
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">GNU General Public License for more details.
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">You should have received a copy of the GNU General Public License
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">along with this program.  If not, see <a href="https://www.gnu.org/licenses/">&lt;https://www.gnu.org/licenses/&gt;</a>.
</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">The theme is only meant to provide my own prefered colour setup.
</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Acknowledgments:
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">A lot of configurations were inspired by ef-themes by Prot.
</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:
</span>
<span class="org-comment-delimiter">;;;</span><span class="org-comment">###</span><span class="org-comment"><span class="org-function-name">theme</span></span><span class="org-comment">-</span><span class="org-comment"><span class="org-warning">autoload</span></span><span class="org-comment">
</span>(<span class="org-keyword">deftheme</span> <span class="org-type">hasliberg</span>
  <span class="org-doc">"Theme inspired by Swiss alps"</span>
  <span class="org-builtin">:background-mode</span> 'dark
  <span class="org-builtin">:kind</span> 'color-scheme)

<span class="org-comment-delimiter">;;;;</span><span class="org-comment">----------------------------------------
</span><span class="org-comment-delimiter">;;;   </span><span class="org-comment">Configuration
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">------------------------------------------
</span>(<span class="org-keyword">defgroup</span> <span class="org-type">hasliberg-theme</span> nil
  <span class="org-doc">"Options for hasliberg-theme."</span>
  <span class="org-builtin">:group</span> 'hasliberg-theme
  <span class="org-builtin">:prefix</span> <span class="org-string">"hasliberg-theme-"</span>)
(<span class="org-keyword">defconst</span> <span class="org-variable-name">hasliberg-theme-lch-type</span>
  '(plist <span class="org-builtin">:options</span> ((<span class="org-builtin">:luminance</span> float)
                                      (<span class="org-builtin">:chroma</span> float)
                                      (<span class="org-builtin">:hue</span> float)))
  <span class="org-doc">"A plist defining LuvLCh input."</span>)
(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--validate-and-set-lch</span> (symbol value)
  <span class="org-doc">"Set SYMBOL to VALUE if it is a valid LCH colour.
VALUE must be a plist containing :luminance, :chroma, and :hue with float values.
Luminance should be between 0 and 100, chroma should be non-negative, and hue should be between 0 and 360."</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">This assumes the use of `</span><span class="org-comment"><span class="org-constant">hasliberg-theme-lch-type</span></span><span class="org-comment">'.
</span>  (<span class="org-keyword">let</span> ((luminance (plist-get value <span class="org-builtin">:luminance</span>))
              (chroma (plist-get value <span class="org-builtin">:chroma</span>))
              (hue (plist-get value <span class="org-builtin">:hue</span>))
              (errors '()))
      (<span class="org-keyword">unless</span> (<span class="org-keyword">and</span> luminance chroma hue)
        (<span class="org-keyword">push</span> <span class="org-string">"LCH value must include :luminance, :chroma, and :hue"</span> errors))
      (<span class="org-keyword">unless</span> (<span class="org-keyword">and</span> (floatp luminance) (floatp chroma) (floatp hue))
        (<span class="org-keyword">push</span> (format <span class="org-string">"LCH components must be float values: %S"</span> value) errors))
      (<span class="org-keyword">when</span> (<span class="org-keyword">and</span> luminance (<span class="org-keyword">or</span> (&lt; luminance 0) (&gt; luminance 100)))
        (<span class="org-keyword">push</span> (format <span class="org-string">"Luminance value %f must be between 0 and 100"</span> luminance) errors))
      <span class="org-comment-delimiter">;; </span><span class="org-comment">NOTE: I need to double check on the valid chroma value.
</span>      <span class="org-comment-delimiter">;; </span><span class="org-comment">I took this value from https://facelessuser.github.io/coloraide/colors/lchuv/
</span>      (<span class="org-keyword">when</span> (<span class="org-keyword">and</span> chroma (<span class="org-keyword">or</span> (&lt; chroma 0) (&gt; chroma 220)))
        (<span class="org-keyword">push</span> (format <span class="org-string">"Chroma value %f must be non-negative"</span> chroma) errors))
      (<span class="org-keyword">when</span> (<span class="org-keyword">and</span> hue (<span class="org-keyword">or</span> (&lt; hue 0) (&gt;= hue 360)))
        (<span class="org-keyword">push</span> (format <span class="org-string">"Hue value %f must be between 0 and 360"</span> hue) errors))
      (<span class="org-keyword">if</span> errors
              (<span class="org-warning">error</span> <span class="org-string">"Invalid LuvLCh value: %s"</span> (string-join (reverse errors) <span class="org-string">"; "</span>))
        (set-default symbol value))))
(<span class="org-keyword">defcustom</span> <span class="org-variable-name">hasliberg-theme-dark-or-light</span> 'dark
  <span class="org-doc">"The theme variant, only dark is supported."</span>
  <span class="org-builtin">:type</span> '(const dark)
  <span class="org-builtin">:group</span> 'hasliberg-theme)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">hasliberg-theme-colour-background</span>         '(<span class="org-builtin">:luminance</span>  7.877 <span class="org-builtin">:chroma</span>  1.800 <span class="org-builtin">:hue</span> 236.421))
(<span class="org-keyword">defvar</span> <span class="org-variable-name">hasliberg-theme-colour-background-variant</span> '(<span class="org-builtin">:luminance</span>  6.265 <span class="org-builtin">:chroma</span> 11.827 <span class="org-builtin">:hue</span> 252.428))
(<span class="org-keyword">defvar</span> <span class="org-variable-name">hasliberg-theme-colour-neutral</span>            '(<span class="org-builtin">:luminance</span> 95.074 <span class="org-builtin">:chroma</span> 12.330 <span class="org-builtin">:hue</span> 252.652))
(<span class="org-keyword">defvar</span> <span class="org-variable-name">hasliberg-theme-colour-primary</span>            '(<span class="org-builtin">:luminance</span> 93.380 <span class="org-builtin">:chroma</span>  2.848 <span class="org-builtin">:hue</span> 192.490))
(<span class="org-keyword">defvar</span> <span class="org-variable-name">hasliberg-theme-colour-secondary</span>          '(<span class="org-builtin">:luminance</span> 93.535 <span class="org-builtin">:chroma</span>  3.844 <span class="org-builtin">:hue</span> 169.497))
(<span class="org-keyword">defvar</span> <span class="org-variable-name">hasliberg-theme-colour-accent</span>             '(<span class="org-builtin">:luminance</span> 76.373 <span class="org-builtin">:chroma</span> 32.215 <span class="org-builtin">:hue</span> 238.249))
(<span class="org-keyword">defvar</span> <span class="org-variable-name">hasliberg-theme-colour-accent-variant</span>     '(<span class="org-builtin">:luminance</span> 76.373 <span class="org-builtin">:chroma</span> 32.215 <span class="org-builtin">:hue</span> 238.249))
(<span class="org-keyword">defvar</span> <span class="org-variable-name">hasliberg-theme-colour-subtle</span>             '(<span class="org-builtin">:luminance</span> 77.751 <span class="org-builtin">:chroma</span> 14.617 <span class="org-builtin">:hue</span>  35.776))
(<span class="org-keyword">defvar</span> <span class="org-variable-name">hasliberg-theme-colour-subtle-variant</span>     '(<span class="org-builtin">:luminance</span> 73.823 <span class="org-builtin">:chroma</span> 11.749 <span class="org-builtin">:hue</span>  80.830))
(<span class="org-keyword">defvar</span> <span class="org-variable-name">hasliberg-theme-colour-info</span>               '(<span class="org-builtin">:luminance</span> 67.245 <span class="org-builtin">:chroma</span> 10.890 <span class="org-builtin">:hue</span>  19.862))
(<span class="org-keyword">defvar</span> <span class="org-variable-name">hasliberg-theme-colour-warning</span>            '(<span class="org-builtin">:luminance</span> 67.236 <span class="org-builtin">:chroma</span> 86.052 <span class="org-builtin">:hue</span>  35.603))

(<span class="org-keyword">defvar</span> <span class="org-variable-name">hasliberg-theme--load-path</span> nil
  <span class="org-doc">"Variable to store the load path of Hasliberg Theme."</span>)
(<span class="org-keyword">unless</span> hasliberg-theme--load-path
  (<span class="org-keyword">setq</span> hasliberg-theme--load-path load-file-name))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme-reload</span> ()
  <span class="org-doc">"Re-evaluate the file and reload the config."</span>
  (<span class="org-keyword">interactive</span>)
  (load-file hasliberg-theme--load-path)
  (load-theme 'hasliberg t))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--lch-to-luv</span> (lch)
  <span class="org-doc">"Convert a colour from LCH to Luv.
LCH is a plist with properties :luminance, :chroma, and :hue."</span>
  (<span class="org-keyword">let*</span> ((L (plist-get lch <span class="org-builtin">:luminance</span>))
               (C (plist-get lch <span class="org-builtin">:chroma</span>))
               (H-degree (plist-get lch <span class="org-builtin">:hue</span>))
               <span class="org-comment-delimiter">;; </span><span class="org-comment">Convert degrees to radians
</span>               (H-radians (* pi (/ H-degree 180.0))))
      (list <span class="org-builtin">:l</span> L
                <span class="org-builtin">:u</span> (* C (cos H-radians))
                <span class="org-builtin">:v</span> (* C (sin H-radians)))))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--luv-to-xyz</span> (luv)
  <span class="org-doc">"Convert a colour from Luv to XYZ.
Luv is a plist with properties :l, :u and :v."</span>
  (<span class="org-keyword">let*</span> ((L (plist-get luv <span class="org-builtin">:l</span>))
               (u (plist-get luv <span class="org-builtin">:u</span>))
               (v (plist-get luv <span class="org-builtin">:v</span>))
               <span class="org-comment-delimiter">;; </span><span class="org-comment">Constants for D65 illuminant
</span>               (ref-u 0.19783000664283)
               (ref-v 0.46831999493879)
               (up (/ (+ u (* 13 L ref-u)) (* 13 L)))
               (vp (/ (+ v (* 13 L ref-v)) (* 13 L)))

               <span class="org-comment-delimiter">;; </span><span class="org-comment">Results
</span>               (Y (<span class="org-keyword">if</span> (&gt; L 7.9996)
                              (expt (/ (+ L 16) 116.0) 3)
                        (/ L 903.3)))
               <span class="org-comment-delimiter">;; </span><span class="org-comment">Ensure `vp` is not zero to avoid division by zero
</span>               (X (<span class="org-keyword">if</span> (zerop vp) 0
                        (/ (* 9 Y up) (* 4 vp))))
               (Z (<span class="org-keyword">if</span> (zerop vp) 0
                        (/ (* (- 12 (* 3 up) (* 20 vp)) Y) (* 4 vp)))))
      (list <span class="org-builtin">:x</span> (* 100 X) <span class="org-builtin">:y</span> (* 100 Y) <span class="org-builtin">:z</span> (* 100 Z))))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--xyz-to-rgb</span> (xyz)
  <span class="org-doc">"Convert a colour from XYZ to RGB.
XYZ is a plist with properties :x, :y, and :z."</span>
  (<span class="org-keyword">let*</span> ((X (/ (plist-get xyz <span class="org-builtin">:x</span>) 100.0))
               (Y (/ (plist-get xyz <span class="org-builtin">:y</span>) 100.0))
               (Z (/ (plist-get xyz <span class="org-builtin">:z</span>) 100.0))
               <span class="org-comment-delimiter">;; </span><span class="org-comment">Linear transformation matrix for sRGB D65
</span>               (R-linear (+ (* X 3.2406) (* Y -1.5372) (* Z -0.4986)))
               (G-linear (+ (* X -0.9689) (* Y 1.8758) (* Z 0.0415)))
               (B-linear (+ (* X 0.0557) (* Y -0.2040) (* Z 1.0570)))
               <span class="org-comment-delimiter">;; </span><span class="org-comment">Apply gamma correction
</span>               (R (<span class="org-keyword">if</span> (&lt;= R-linear 0.0031308)
                              (* 12.92 R-linear)
                        (- (* 1.055 (expt R-linear (/ 1.0 2.4))) 0.055)))
               (G (<span class="org-keyword">if</span> (&lt;= G-linear 0.0031308)
                              (* 12.92 G-linear)
                        (- (* 1.055 (expt G-linear (/ 1.0 2.4))) 0.055)))
               (B (<span class="org-keyword">if</span> (&lt;= B-linear 0.0031308)
                              (* 12.92 B-linear)
                        (- (* 1.055 (expt B-linear (/ 1.0 2.4))) 0.055))))
      <span class="org-comment-delimiter">;; </span><span class="org-comment">Clamp the results to the range [0, 1]
</span>      (list <span class="org-builtin">:r</span> (min (max R 0.0) 1.0)
                <span class="org-builtin">:g</span> (min (max G 0.0) 1.0)
                <span class="org-builtin">:b</span> (min (max B 0.0) 1.0))))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--rgb-to-hex</span> (rgb)
  <span class="org-doc">"Convert a colour from RGB to Hex.
RGB is a plist with properties :r, :g, and :b, where each value is in the range [0, 1]."</span>
  (<span class="org-keyword">let*</span> ((r (round (* (plist-get rgb <span class="org-builtin">:r</span>) 255)))
               (g (round (* (plist-get rgb <span class="org-builtin">:g</span>) 255)))
               (b (round (* (plist-get rgb <span class="org-builtin">:b</span>) 255))))
      (format <span class="org-string">"#%02X%02X%02X"</span> r g b)))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--lch-to-rgb</span> (lch)
  <span class="org-doc">"Convert a colour from LCH to RGB in Hex.
LCH is a plist with properties :luminance, :chroma, and :hue."</span>
  (<span class="org-keyword">let*</span> ((luv (hasliberg-theme--lch-to-luv lch))
               (xyz (hasliberg-theme--luv-to-xyz luv))
               (rgb (hasliberg-theme--xyz-to-rgb xyz)))
      (hasliberg-theme--rgb-to-hex rgb)))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--hex-to-rgb</span> (hex)
  <span class="org-doc">"Convert a colour from Hex to RGB.
HEX can be a string in the form \"#RRGGBB\", \"RRGGBB\", \"#RGB\", or \"RGB\"."</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Normalize the hex string by removing a leading #
</span>  (<span class="org-keyword">let*</span> ((normalized-hex (<span class="org-keyword">if</span> (eq (aref hex 0) ?#)
                                                       (substring hex 1)
                                                 hex))
               <span class="org-comment-delimiter">;; </span><span class="org-comment">Expand 3-digit color code to 6-digit format if necessary
</span>               (expanded-hex (<span class="org-keyword">if</span> (= (length normalized-hex) 3)
                                                 (apply 'concat (mapcar (<span class="org-keyword">lambda</span> (c) (make-string 2 c)) normalized-hex))
                                               normalized-hex)))
      <span class="org-comment-delimiter">;; </span><span class="org-comment">Ensure the string has the correct length of 6 characters
</span>      (<span class="org-keyword">when</span> (not (= (length expanded-hex) 6))
        (<span class="org-warning">error</span> <span class="org-string">"Invalid hex colour format, expected 3 or 6 characters"</span>))
      (list <span class="org-builtin">:r</span> (/ (string-to-number (substring expanded-hex 0 2) 16) 255.0)
                <span class="org-builtin">:g</span> (/ (string-to-number (substring expanded-hex 2 4) 16) 255.0)
                <span class="org-builtin">:b</span> (/ (string-to-number (substring expanded-hex 4 6) 16) 255.0))))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--rgb-to-xyz</span> (rgb)
  <span class="org-doc">"Convert a colour from RGB to XYZ.
RGB is a plist with properties :r, :g, and :b,
where each value is in the range [0, 1]."</span>
  (<span class="org-keyword">let*</span> ((linearize (<span class="org-keyword">lambda</span> (c)
                                        (<span class="org-keyword">if</span> (&lt;= c 0.04045)
                                                (/ c 12.92)
                                              (expt (/ (+ c 0.055) 1.055) 2.4))))
               (R-linear (funcall linearize (plist-get rgb <span class="org-builtin">:r</span>)))
               (G-linear (funcall linearize (plist-get rgb <span class="org-builtin">:g</span>)))
               (B-linear (funcall linearize (plist-get rgb <span class="org-builtin">:b</span>))))
      (list <span class="org-builtin">:x</span> (* 100 (+ (* R-linear 0.4124) (* G-linear 0.3576) (* B-linear 0.1805)))
                <span class="org-builtin">:y</span> (* 100 (+ (* R-linear 0.2126) (* G-linear 0.7152) (* B-linear 0.0722)))
                <span class="org-builtin">:z</span> (* 100 (+ (* R-linear 0.0193) (* G-linear 0.1192) (* B-linear 0.9505))))))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--xyz-to-luv</span> (xyz)
  <span class="org-doc">"Convert a colour from XYZ to Luv.
XYZ is a plist with properties :x, :y, and :z."</span>
  (<span class="org-keyword">let*</span> ((X (/ (plist-get xyz <span class="org-builtin">:x</span>) 100.0))
               (Y (/ (plist-get xyz <span class="org-builtin">:y</span>) 100.0))
               (Z (/ (plist-get xyz <span class="org-builtin">:z</span>) 100.0))
               <span class="org-comment-delimiter">;; </span><span class="org-comment">Constants for D65 illuminant
</span>               (ref-X 0.95047)
               (ref-Y 1.00000)
               (ref-Z 1.08883)
               (ref-u (/ (* 4 ref-X) (+ ref-X (* 15 ref-Y) (* 3 ref-Z))))
               (ref-v (/ (* 9 ref-Y) (+ ref-X (* 15 ref-Y) (* 3 ref-Z))))
               (u (/ (* 4 X) (+ X (* 15 Y) (* 3 Z))))
               (v (/ (* 9 Y) (+ X (* 15 Y) (* 3 Z))))
               (L (<span class="org-keyword">if</span> (&gt; Y 0.008856)
                              (- (* 116 (expt Y (/ 1.0 3))) 16)
                        (* 903.3 Y)))
               (u-prime (* 13 L (- u ref-u)))
               (v-prime (* 13 L (- v ref-v))))
      (list <span class="org-builtin">:l</span> L <span class="org-builtin">:u</span> u-prime <span class="org-builtin">:v</span> v-prime)))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--xyz-to-luv</span> (xyz)
  <span class="org-doc">"Convert a colour from XYZ to Luv.
XYZ is a plist with properties :x, :y, and :z."</span>
  (<span class="org-keyword">let*</span> ((X (/ (plist-get xyz <span class="org-builtin">:x</span>) 100.0))
               (Y (/ (plist-get xyz <span class="org-builtin">:y</span>) 100.0))
               (Z (/ (plist-get xyz <span class="org-builtin">:z</span>) 100.0))
               <span class="org-comment-delimiter">;; </span><span class="org-comment">Constants for D65 illuminant
</span>               (ref-X 0.95047)
               (ref-Y 1.00000)
               (ref-Z 1.08883)
               (ref-u (/ (* 4 ref-X) (+ ref-X (* 15 ref-Y) (* 3 ref-Z))))
               (ref-v (/ (* 9 ref-Y) (+ ref-X (* 15 ref-Y) (* 3 ref-Z))))
               (u (/ (* 4 X) (+ X (* 15 Y) (* 3 Z))))
               (v (/ (* 9 Y) (+ X (* 15 Y) (* 3 Z))))
               (L (<span class="org-keyword">if</span> (&gt; Y 0.008856)
                              (- (* 116 (expt Y (/ 1.0 3))) 16)
                        (* 903.3 Y)))
               (u-prime (* 13 L (- u ref-u)))
               (v-prime (* 13 L (- v ref-v))))
      (list <span class="org-builtin">:l</span> L <span class="org-builtin">:u</span> u-prime <span class="org-builtin">:v</span> v-prime)))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--luv-to-lch</span> (luv)
  <span class="org-doc">"Convert a colour from Luv to LCH.
LUV is a plist with properties :l, :u, and :v."</span>
  (<span class="org-keyword">let*</span> ((L (plist-get luv <span class="org-builtin">:l</span>))
               (u (plist-get luv <span class="org-builtin">:u</span>))
               (v (plist-get luv <span class="org-builtin">:v</span>))
               (C (sqrt (+ (* u u) (* v v))))
               (H (atan v u))
               <span class="org-comment-delimiter">;; </span><span class="org-comment">Convert radians to degrees and ensure the hue is positive
</span>               (H-degree (mod (/ (* H 180.0) pi) 360.0))
               (format-3dp (<span class="org-keyword">lambda</span> (num)
                                         (string-to-number (format <span class="org-string">"%.3f"</span> num)))))
      (list <span class="org-builtin">:luminance</span> (funcall format-3dp L)
                <span class="org-builtin">:chroma</span> (funcall format-3dp C)
                <span class="org-builtin">:hue</span> (funcall format-3dp H-degree))))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--rgb-to-lch</span> (hex)
  <span class="org-doc">"Convert a colour from RGB Hex to LCH in Luv space.
HEX is a string in the form \"#RRGGBB\"."</span>
  (<span class="org-keyword">let*</span> ((rgb (hasliberg-theme--hex-to-rgb hex))
               (xyz (hasliberg-theme--rgb-to-xyz rgb))
               (luv (hasliberg-theme--xyz-to-luv xyz)))
      (hasliberg-theme--luv-to-lch luv)))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme-convert-rgb-selection-to-lch</span> (start end)
  <span class="org-doc">"Convert RGB Hex selection to LCH in Luv space,
and insert after the selection. This can be helpful for setting up
the new base colours, but not strictly necessary."</span>
  (<span class="org-keyword">interactive</span> <span class="org-string">"r"</span>)
  (<span class="org-keyword">let*</span> ((hex (buffer-substring-no-properties start end))
               (lch (hasliberg-theme--rgb-to-lch hex)))
      (goto-char end)
      (insert
       <span class="org-string">" "</span>
       (format <span class="org-string">"'(:luminance %.3f :chroma %.3f :hue %.3f)"</span>
                       (plist-get lch <span class="org-builtin">:luminance</span>)
                       (plist-get lch <span class="org-builtin">:chroma</span>)
                       (plist-get lch <span class="org-builtin">:hue</span>)))))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme-convert-lch-selection-to-rgb</span> (start end)
  <span class="org-doc">"Convert LCH value selection to RGB Hex,
and insert after the selection. This can be helpful for setting up
the new base colours, but not strictly necessary."</span>
  (<span class="org-keyword">interactive</span> <span class="org-string">"r"</span>)
  (<span class="org-keyword">let*</span> ((lch-selection (buffer-substring-no-properties start end))
               (lch-string (<span class="org-keyword">if</span> (string-prefix-p <span class="org-string">"'"</span> lch-selection)
                                               (substring lch-selection 1)
                                         lch-selection))
               (lch (read lch-string))
               (hex (hasliberg-theme--lch-to-rgb lch)))
      (goto-char end)
      (insert <span class="org-string">" "</span> hex)))

(<span class="org-keyword">defvar</span> <span class="org-variable-name">hasliberg-theme-shades</span> nil
  <span class="org-doc">"All shades for the Hasliberg theme colours based on LuvLCh input.
The values here are not meant to be updated manually."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">hasliberg-theme-shades-hash</span> (make-hash-table <span class="org-builtin">:test</span> 'equal)
  <span class="org-doc">"Hash table of all Hasliberg theme shades for fast lookup.
The values here are not meant to be updated manually."</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--generate-lch-shades</span> (base-lch)
  <span class="org-doc">"Generate a list of shades for a given LCH base colour. This takes in the
dark / light theme variable into account, and changes the way it generates
the shades. The higher values (e.g. 600, 700, so on) are meant to provide
more contrast and appear brighter based on the background.

In case of dark background, the higher values would result in brighter, more
white colours. In case of light background, they would result in darker, more
black colours."</span>
  (<span class="org-keyword">let*</span> ((l (plist-get base-lch <span class="org-builtin">:luminance</span>))
               (c (plist-get base-lch <span class="org-builtin">:chroma</span>))
               (h (plist-get base-lch <span class="org-builtin">:hue</span>))
               (shades '(50 100 200 300 400 500 600 700 800 900 950))
               (dark-or-light hasliberg-theme-dark-or-light)
               (luminance-steps
                (mapcar (<span class="org-keyword">lambda</span> (step)
                                      <span class="org-comment-delimiter">;; </span><span class="org-comment">Based on dark or light selection, flip the shades.
</span>                                      (<span class="org-keyword">if</span> (eq dark-or-light 'dark)
                                              (+ l (* (- step 500) 0.1))
                                        (- l (* (- step 500) 0.1))))
                                      shades)))
      (mapcar
       (<span class="org-keyword">lambda</span> (lum)
         (hasliberg-theme--lch-to-rgb
              (list <span class="org-builtin">:luminance</span> lum <span class="org-builtin">:chroma</span> c <span class="org-builtin">:hue</span> h)))
       luminance-steps)))

<span class="org-comment-delimiter">;; </span><span class="org-comment">This is a bit manual but working.
</span>(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--generate-all-shades</span> ()
  <span class="org-doc">"Generate all shades for the colours defined with customization with the prefix of `</span><span class="org-doc"><span class="org-constant">hasliberg-theme-colour-</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">let*</span> ((prefix <span class="org-string">"hasliberg-theme-colour-"</span>)
               (pflen (length prefix))
               (customs '(hasliberg-theme-colour-background
                                      hasliberg-theme-colour-background-variant
                                      hasliberg-theme-colour-neutral
                                      hasliberg-theme-colour-primary
                                      hasliberg-theme-colour-secondary
                                      hasliberg-theme-colour-accent
                                      hasliberg-theme-colour-accent-variant
                                      hasliberg-theme-colour-subtle
                                      hasliberg-theme-colour-subtle-variant
                                      hasliberg-theme-colour-info
                                      hasliberg-theme-colour-warning))
               (colours (<span class="org-keyword">cl-loop</span> for c in customs
                                                 collect (cons (intern (substring (symbol-name c) pflen))
                                                                               (symbol-value c)))))
      (mapcar
       (<span class="org-keyword">lambda</span> (colour)
         (<span class="org-keyword">let*</span> ((name (car colour))
                        (base-lch (cdr colour))
                        (shades (hasliberg-theme--generate-lch-shades base-lch)))
               `(,name . ,(cl-pairlis '(50 100 200 300 400 500 600 700 800 900 950) shades))))
       colours)))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--update-shades</span> ()
  <span class="org-doc">"Update the shades and hash table based on the colour variables."</span>
  (<span class="org-keyword">setq</span> hasliberg-theme-shades (hasliberg-theme--generate-all-shades))
  (clrhash hasliberg-theme-shades-hash)
  (<span class="org-keyword">cl-loop</span> for (name . shades) in hasliberg-theme-shades
                 do (<span class="org-keyword">cl-loop</span> for (shade-name . shade-value) in shades
                                         do (puthash (format <span class="org-string">"%s-%s"</span> name shade-name)
                                                                 shade-value
                                                                 hasliberg-theme-shades-hash))))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme-hex-for</span> (key)
  <span class="org-doc">"Retrieve the Hex colour using a hashed KEY."</span>
  (gethash (symbol-name key) hasliberg-theme-shades-hash))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--update-standard-faces</span> ()
  (custom-theme-set-faces
   'hasliberg
   <span class="org-comment-delimiter">;;;;</span><span class="org-comment">----------------------------------------
</span>   <span class="org-comment-delimiter">;;;   </span><span class="org-comment">Basic Faces
</span>   <span class="org-comment-delimiter">;;</span><span class="org-comment">------------------------------------------
</span>   `(default
       ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-500)
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-500))))
   `(bold ((t <span class="org-builtin">:weight</span> bold)))
   `(italic ((t <span class="org-builtin">:slant</span> italic)))
   `(bold-italic ((t <span class="org-builtin">:inherit</span> (bold italic))))
   `(link
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-400))))
   `(highlight
       ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-variant-700))))

   `(cursor ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'accent-700))))
   `(region
       ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-700)
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'subtle-600))))
   `(secondary-selection
       ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-variant-600)
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'subtle-600))))
   `(whitespace-space ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'background-600))))
   `(whitespace-tab ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'background-600))))

   `(isearch ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'primary-300))))
   `(success ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'info-700)
                               )))
   `(warning ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'warning-500)
                               )))
   `(minibuffer-prompt ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-500)
                                                 <span class="org-builtin">:weight</span> semibold)))

   <span class="org-comment-delimiter">;;;;</span><span class="org-comment">----------------------------------------
</span>   <span class="org-comment-delimiter">;;;   </span><span class="org-comment">Visual Elements
</span>   <span class="org-comment-delimiter">;;</span><span class="org-comment">------------------------------------------
</span>   <span class="org-comment-delimiter">;; </span><span class="org-comment">Configurations around some standard visual elements such as mode lines.
</span>   <span class="org-comment-delimiter">;; </span><span class="org-comment">These tend to have more complicated configuration, and thus I'm making them
</span>   <span class="org-comment-delimiter">;; </span><span class="org-comment">multiline and make it easier to edit later.
</span>   `(fringe
       ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-500)
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'accent-100))))
   `(menu
       ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-300)
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-500))))
   `(scroll-bar
       ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-300)
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-500))))
   `(tool-bar
       ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-300)
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-500))))
   `(vertical-border
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'background-300))))
   `(header-line
       ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-500)
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-300))))
   `(tab-bar
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-500))))
   `(tab-bar-tab
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-500))))
   `(tab-bar-inactive
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-700))))
   `(tab-bar-tab-group-current
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-500)
               <span class="org-builtin">:underline</span> t)))
   `(tab-bar-tab-group-inactive
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'secondary-400))))

   <span class="org-comment-delimiter">;; </span><span class="org-comment">Border used for posframe.
</span>   `(child-frame-border ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'primary-300))))
   <span class="org-comment-delimiter">;; </span><span class="org-comment">Mode Line
</span>   `(mode-line
       ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-500)
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-300)
               <span class="org-comment-delimiter">;; </span><span class="org-comment">:overline   ,(hasliberg-theme-hex-for 'accent-500)
</span>               <span class="org-comment-delimiter">;; </span><span class="org-comment">:underline (:color ,(hasliberg-theme-hex-for 'accent-500) :position 0)
</span>               <span class="org-comment-delimiter">;; </span><span class="org-comment">:box nil
</span>               )))
   `(mode-line-active
       ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-500)
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-300)
               <span class="org-builtin">:overline</span>   ,(hasliberg-theme-hex-for 'neutral-500)
               <span class="org-comment-delimiter">;; </span><span class="org-comment">:underline (:color ,(hasliberg-theme-hex-for 'accent-500) :position 0)
</span>               <span class="org-comment-delimiter">;; </span><span class="org-comment">:box nil
</span>               )))
   `(mode-line-inactive
       ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-500)
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-200)
               <span class="org-builtin">:underline</span>  nil
               <span class="org-builtin">:overline</span>   nil
               <span class="org-comment-delimiter">;; </span><span class="org-comment">:box nil
</span>               )))

   <span class="org-comment-delimiter">;;;;</span><span class="org-comment">----------------------------------------
</span>   <span class="org-comment-delimiter">;;;   </span><span class="org-comment">Line Numbers
</span>   <span class="org-comment-delimiter">;;</span><span class="org-comment">------------------------------------------
</span>   <span class="org-comment-delimiter">;; </span><span class="org-comment">Includes display-line-numbers-mode and global variant.
</span>
   `(line-number
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-50))))
   `(line-number-current-line
       ((t <span class="org-builtin">:inherit</span> line-number
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'accent-500)
               <span class="org-builtin">:weight</span> semibold)))
   `(line-number-major-tick
       ((t <span class="org-builtin">:inherit</span> line-number
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-600))))
   `(line-number-minor-tick
       ((t <span class="org-builtin">:inherit</span> line-number)))

   <span class="org-comment-delimiter">;;;;</span><span class="org-comment">----------------------------------------
</span>   <span class="org-comment-delimiter">;;;   </span><span class="org-comment">Font lock
</span>   <span class="org-comment-delimiter">;;</span><span class="org-comment">------------------------------------------
</span>   <span class="org-comment-delimiter">;; </span><span class="org-comment">Accent colour only used sparingly.
</span>   `(font-lock-string-face
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'accent-500)
               <span class="org-builtin">:weight</span> thin)))
   <span class="org-comment-delimiter">;; </span><span class="org-comment">Any user defined fields are based on one variant.
</span>   `(font-lock-function-name-face
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-400)
               <span class="org-builtin">:weight</span> regular)))
   `(font-lock-variable-name-face
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-400))))
   `(font-lock-constant-face
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-700)
               <span class="org-builtin">:weight</span> semibold)))
   `(font-lock-type-face
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-600)
               <span class="org-builtin">:weight</span> regular)))
   <span class="org-comment-delimiter">;; </span><span class="org-comment">Any basic fields are based on another variant.
</span>   `(font-lock-keyword-face
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-700)
               <span class="org-builtin">:weight</span> semibold)))
   `(font-lock-builtin-face
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-400))))
   `(font-lock-property-name-face
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'secondary-700))))

   `(font-lock-negation-char-face
       ((t <span class="org-builtin">:inherit</span> bold
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'secondary-500))))
   `(font-lock-preprocessor-face
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-300))))

   `(font-lock-comment-face
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-200))))
   `(font-lock-comment-delimiter-face
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-200))))
   `(font-lock-doc-face
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'info-700))))

   `(font-lock-property-use-face
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-600))))
   `(font-lock-regexp-grouping-backslash
       ((t <span class="org-builtin">:inherit</span> bold
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'subtle-variant-500))))
   `(font-lock-regexp-grouping-construct
       ((t <span class="org-builtin">:inherit</span> bold
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'subtle-variant-500))))
   `(font-lock-warning-face
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'warning-500))))

   <span class="org-comment-delimiter">;;;;</span><span class="org-comment">----------------------------------------
</span>   <span class="org-comment-delimiter">;;;   </span><span class="org-comment">Org Mode
</span>   <span class="org-comment-delimiter">;;</span><span class="org-comment">------------------------------------------
</span>   `(org-document-title
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-700))))
   `(org-level-1
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'accent-500))))
   `(org-level-2
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'accent-600))))
   `(org-level-3
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'accent-700))))
   `(org-level-4
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'accent-variant-800))))
   `(org-level-5
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'accent-variant-900))))
   `(org-level-6
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'accent-variant-900))))
   `(org-special-keyword
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-200))))
   `(org-code
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-500))))
   `(org-verbatim
       ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-400)
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-400))))
   `(org-ellipsis
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'accent-700)
               <span class="org-builtin">:underline</span> nil)))
   `(org-hide ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'background-500))))
   `(org-block
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'subtle-variant-500))))
   `(org-block-begin-line
       ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-500)
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-400)
               <span class="org-builtin">:overline</span>   ,(hasliberg-theme-hex-for 'background-700))))
   `(org-block-end-line
       ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-500)
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-400)
               <span class="org-builtin">:underline</span> (<span class="org-builtin">:color</span> ,(hasliberg-theme-hex-for 'background-700) <span class="org-builtin">:position</span> 0))))
   `(org-quote
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'accent-900) <span class="org-builtin">:slant</span> oblique)))
   `(org-verse
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-600))))
   `(org-table
       ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-600)
               <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-600))))

   `(org-drawer ((t <span class="org-builtin">:inherit</span> font-lock-comment-face)))
   `(org-property-value ((t <span class="org-builtin">:inherit</span> font-lock-comment-face)))
   `(org-tag ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-300))))
   `(org-document-info-keyword
       ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-300))))
   `(org-meta-line ((t <span class="org-builtin">:inherit</span> org-document-info-keyword)))
   `(org-checkbox ((t <span class="org-builtin">:box</span> nil)))

   <span class="org-comment-delimiter">;; </span><span class="org-comment">Todo related handling
</span>   `(org-headline-done ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-200))))
   <span class="org-comment-delimiter">;; </span><span class="org-comment">Agenda
</span>   `(org-agenda-structure ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-500))))
   `(org-agenda-done ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-100))))
   `(org-upcoming-deadline ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'warning-800))))
   `(org-scheduled-today ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-500))))
   `(org-scheduled-previously ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'warning-400))))
   `(org-agenda-structure ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-200))))
   `(org-agenda-current-time ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'accent-variant-700))))
   `(org-time-grid ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-100))))
   `(org-habit-clear-face ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-variant-500))))
   `(org-habit-clear-future-face ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-variant-600))))
   `(org-habit-alert-face ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'accent-variant-400))))
   `(org-habit-alert-future-face ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'primary-200))))
   `(org-habit-overdue-face ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-600))))
   `(org-habit-overdue-future-face ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-600))))))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--update-echo-buffer</span> ()
  (<span class="org-keyword">dolist</span> (buffer (list <span class="org-string">" *Minibuf-0*"</span> <span class="org-string">" *Echo Area 0*"</span>
                                              <span class="org-string">" *Minibuf-1*"</span> <span class="org-string">" *Echo Area 1*"</span>))
      (<span class="org-keyword">when</span> (get-buffer buffer)
        (<span class="org-keyword">with-current-buffer</span> buffer
              <span class="org-comment-delimiter">;; </span><span class="org-comment">TODO: I should use colour definitions instead.
</span>              (face-remap-add-relative 'default 'font-lock-preprocessor-face)))))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Third party faces
</span>(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--update-mode-line-faces</span> ()
 (custom-theme-set-faces
  'hasliberg
  <span class="org-comment-delimiter">;;;;</span><span class="org-comment">----------------------------------------
</span>  <span class="org-comment-delimiter">;;;   </span><span class="org-comment">Mode Line
</span>  <span class="org-comment-delimiter">;;</span><span class="org-comment">------------------------------------------
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">Doom Mode Line related
</span>  `(doom-modeline-buffer-modified
      ((t <span class="org-builtin">:inherit</span> (doom-modeline)
              <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'accent-600)
              <span class="org-builtin">:weight</span> semibold)))
  `(doom-modeline-project-parent-dir
      ((t <span class="org-builtin">:inherit</span> (doom-modeline)
              <span class="org-builtin">:slant</span> oblique)))))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--update-dashboard-faces</span> ()
 (custom-theme-set-faces
  'hasliberg
  <span class="org-comment-delimiter">;;;;</span><span class="org-comment">----------------------------------------
</span>  <span class="org-comment-delimiter">;;;   </span><span class="org-comment">Dashboard
</span>  <span class="org-comment-delimiter">;;</span><span class="org-comment">------------------------------------------
</span>  `(dashboard-banner-logo-title
      ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-500)
              <span class="org-builtin">:weight</span> semibold)))
  `(dashboard-heading
      ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-600)
              <span class="org-builtin">:weight</span> semibold)))
  `(dashboard-footer-face
      ((t <span class="org-builtin">:slant</span> oblique
              <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-800))))))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--update-org-related-faces</span> ()
 (custom-theme-set-faces
  'hasliberg
  <span class="org-comment-delimiter">;;;;</span><span class="org-comment">----------------------------------------
</span>  <span class="org-comment-delimiter">;;;   </span><span class="org-comment">Org Mode
</span>  <span class="org-comment-delimiter">;;</span><span class="org-comment">------------------------------------------
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">Other Org Mode related handling (third party)
</span>  `(org-modern-todo ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'primary-600))))
  `(org-modern-symbol ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'neutral-500))))))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--update-markdown-faces</span> ()
 (custom-theme-set-faces
  'hasliberg
  <span class="org-comment-delimiter">;;;;</span><span class="org-comment">----------------------------------------
</span>  <span class="org-comment-delimiter">;;;   </span><span class="org-comment">Markdown
</span>  <span class="org-comment-delimiter">;;</span><span class="org-comment">------------------------------------------
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">I work with markdown only when I have to. Org Mode is my preference,
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">and thus all the configurations here are only to inherit from Org Mode.
</span>  `(markdown-header-face-1 ((t <span class="org-builtin">:inherit</span> org-level-1)))
  `(markdown-header-face-2 ((t <span class="org-builtin">:inherit</span> org-level-2)))
  `(markdown-header-face-3 ((t <span class="org-builtin">:inherit</span> org-level-3)))
  `(markdown-header-face-4 ((t <span class="org-builtin">:inherit</span> org-level-4)))
  `(markdown-header-face-5 ((t <span class="org-builtin">:inherit</span> org-level-5)))
  `(markdown-header-delimiter-face
      ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'accent-200))))
  `(markdown-language-keyword-face ((t <span class="org-builtin">:inherit</span> org-block)))
  `(markdown-table-face ((t <span class="org-builtin">:inherit</span> org-table)))
  `(markdown-pre-face ((t <span class="org-builtin">:inherit</span> org-block)))
  `(markdown-html-attr-name-face
      ((t <span class="org-builtin">:inherit</span> org-block
              <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-600))))
  `(markdown-html-attr-value-face
      ((t <span class="org-builtin">:inherit</span> org-block
              <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-800))))
  `(markdown-html-entity-face
      ((t <span class="org-builtin">:inherit</span> org-block
              <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-500))))
  `(markdown-html-tag-delimiter-face
      ((t <span class="org-builtin">:inherit</span> org-block
              <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-300))))
  `(markdown-html-tag-name-face
      ((t <span class="org-builtin">:inherit</span> org-block
              <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-700))))))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--update-lsp-faces</span> ()
 (custom-theme-set-faces
  'hasliberg
  <span class="org-comment-delimiter">;;;;</span><span class="org-comment">----------------------------------------
</span>  <span class="org-comment-delimiter">;;;   </span><span class="org-comment">LSP
</span>  <span class="org-comment-delimiter">;;</span><span class="org-comment">------------------------------------------
</span>  `(lsp-face-highlight-textual
      ((t <span class="org-builtin">:background</span> ,(hasliberg-theme-hex-for 'background-variant-700))))
  `(lsp-headerline-breadcrumb-path-face
      ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-500))))
  `(lsp-headerline-breadcrumb-symbols-face
      ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'primary-700)
              <span class="org-builtin">:weight</span> semibold)))))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--update-language-specific-faces</span> ()
 (custom-theme-set-faces
  'hasliberg
  <span class="org-comment-delimiter">;;;;</span><span class="org-comment">----------------------------------------
</span>  <span class="org-comment-delimiter">;;;   </span><span class="org-comment">Language Specific Ones
</span>  <span class="org-comment-delimiter">;;</span><span class="org-comment">------------------------------------------
</span>  `(sh-quoted-exec ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'accent-600))))
  `(sh-heredoc ((t <span class="org-builtin">:foreground</span> ,(hasliberg-theme-hex-for 'accent-700))))))

(<span class="org-keyword">defun</span> <span class="org-function-name">hasliberg-theme--update-all-faces</span> ()
  <span class="org-doc">"Update all faces."</span>
  (hasliberg-theme--update-standard-faces)
  (hasliberg-theme--update-echo-buffer)
  (hasliberg-theme--update-mode-line-faces)
  (hasliberg-theme--update-dashboard-faces)
  (hasliberg-theme--update-org-related-faces)
  (hasliberg-theme--update-markdown-faces)
  (hasliberg-theme--update-lsp-faces)
  (hasliberg-theme--update-language-specific-faces))

<span class="org-comment-delimiter">;;;;</span><span class="org-comment">----------------------------------------
</span><span class="org-comment-delimiter">;;;   </span><span class="org-comment">Finalise
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">------------------------------------------
</span>(hasliberg-theme--update-shades)
(hasliberg-theme--update-all-faces)
(<span class="org-keyword">when</span> load-file-name
  (add-to-list 'custom-theme-load-path
                         (file-name-as-directory (file-name-directory load-file-name))))

(provide-theme 'hasliberg)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc692c9c" class="outline-2">
<h2 id="orgc692c9c"><span class="section-number-2">4.</span> Window</h2>
<div class="outline-text-2" id="text-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">window-conf.el --- Summary  -*- lexical-binding: t; -*-
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:
</span>(<span class="org-keyword">use-package</span> window
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:custom</span>
  (display-buffer-alist
   '(
       <span class="org-comment-delimiter">;; </span><span class="org-comment">("\\*.*e?shell\\*"
</span>       <span class="org-comment-delimiter">;;  </span><span class="org-comment">(display-buffer-in-side-window)
</span>       <span class="org-comment-delimiter">;;  </span><span class="org-comment">(window-height . 0.25)
</span>       <span class="org-comment-delimiter">;;  </span><span class="org-comment">(side . bottom)
</span>       <span class="org-comment-delimiter">;;  </span><span class="org-comment">(slot . -1))
</span>       (<span class="org-string">"\\*</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">Backtrace</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">Warnings</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">Compile-Log</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">Messages</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">Bookmark List</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">Occur</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">eldoc</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">\\*"</span>
        (display-buffer-in-side-window)
        (window-height . 0.25)
        (side . bottom)
        (slot . 0))
       (<span class="org-string">"\\*</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">[Hh]elp</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">\\*"</span>
        (display-buffer-in-side-window)
        (window-width . 75)
        (side . right)
        (slot . 0))
       (<span class="org-string">"\\*</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">Ibuffer</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">\\*"</span>
        (display-buffer-in-side-window)
        (window-width . 100)
        (side . right)
        (slot . 1))
       (<span class="org-string">"\\*</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">Flymake diagnostics</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">xref</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">Completions</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>
        (display-buffer-in-side-window)
        (window-height . 0.25)
        (side . bottom)
        (slot . 1))
       (<span class="org-string">"\\*</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">grep</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">find</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">\\*"</span>
        (display-buffer-in-side-window)
        (window-height . 0.25)
        (side . bottom)
        (slot . 2))
       )))
(<span class="org-keyword">provide</span> '<span class="org-constant">window-conf</span>)
<span class="org-comment-delimiter">;;; </span><span class="org-comment">window-conf.el ends here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5d00637" class="outline-2">
<h2 id="org5d00637"><span class="section-number-2">5.</span> Completion</h2>
<div class="outline-text-2" id="text-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">completion-conf.el --- Summary  -*- lexical-binding: t; -*-
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:
</span>(<span class="org-keyword">use-package</span> vertico
  <span class="org-builtin">:init</span>
  (vertico-mode))

(<span class="org-keyword">use-package</span> savehist
  <span class="org-builtin">:init</span>
  (savehist-mode))

(<span class="org-keyword">use-package</span> orderless
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:custom</span>
  (completion-styles '(orderless basic))
  (completion-category-defaults nil)
  (completion-category-overrides '((file (styles partial-completion)))))

(<span class="org-keyword">use-package</span> marginalia
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:diminish</span>
  <span class="org-builtin">:config</span>
  (marginalia-mode t))

(<span class="org-keyword">use-package</span> consult
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">C-x bindings
</span>  (<span class="org-string">"C-x C-r"</span> . consult-recent-file)
  (<span class="org-string">"C-x b"</span> . consult-buffer)
  (<span class="org-string">"C-x 4 b"</span> . consult-buffer-other-window)
  (<span class="org-string">"C-x 5 b"</span> . consult-buffer-other-frame)
  (<span class="org-string">"C-x t b"</span> . consult-buffer-other-tab)
  (<span class="org-string">"C-x r b"</span> . consult-bookmark)
  (<span class="org-string">"C-x p b"</span> . consult-project-buffer)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Custom M-# bindings for fast register access
</span>  (<span class="org-string">"M-#"</span> . consult-register-load)
  (<span class="org-string">"M-'"</span> . consult-register-store)          <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. abbrev-prefix-mark (unrelated)
</span>  (<span class="org-string">"C-M-#"</span> . consult-register)
  (<span class="org-string">"M-y"</span> . consult-yank-pop)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">M-g bindings
</span>  (<span class="org-string">"M-g M-g"</span> . consult-goto-line)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">C-c s bindings in `</span><span class="org-comment"><span class="org-constant">search-map</span></span><span class="org-comment">'
</span>  (<span class="org-string">"C-c s e"</span> . consult-complie-error)
  (<span class="org-string">"C-c s f"</span> . consult-flymake)
  (<span class="org-string">"C-c s o"</span> . consult-outline)
  (<span class="org-string">"C-c s m"</span> . consult-mark)
  (<span class="org-string">"C-c s M"</span> . consult-global-mark)
  (<span class="org-string">"C-c s i"</span> . consult-imenu)
  (<span class="org-string">"C-c s I"</span> . consult-imenu-multi)
  (<span class="org-string">"C-c s d"</span> . consult-find)                  <span class="org-comment-delimiter">;; </span><span class="org-comment">Alternative: consult-fd
</span>  (<span class="org-string">"C-c s c"</span> . consult-locate)
  (<span class="org-string">"C-c s g"</span> . consult-grep)
  (<span class="org-string">"C-c s v"</span> . consult-git-grep)
  (<span class="org-string">"C-c s r"</span> . consult-ripgrep)
  (<span class="org-string">"C-c s l"</span> . consult-line)
  (<span class="org-string">"C-c s L"</span> . consult-line-multi)
  (<span class="org-string">"C-c s k"</span> . consult-keep-lines)
  (<span class="org-string">"C-c s u"</span> . consult-focus-lines)
  (<span class="org-string">"C-c s h"</span> . consult-org-heading))

<span class="org-comment-delimiter">;; </span><span class="org-comment">(use-package corfu
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; Optional customizations
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:custom
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(corfu-cycle t)                   ;; Enable cycling for `</span><span class="org-comment"><span class="org-constant">corfu-next/previous</span></span><span class="org-comment">'
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(corfu-auto t)                    ;; Enable auto completion
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(corfu-auto-delay 0.1)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(corfu-auto-prefix 4)             ;; Minimum prefix length for auto completion
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; (corfu-separator ?\s)          ;; Orderless field separator
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; (corfu-quit-at-boundary nil)   ;; Never quit at completion boundary
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; (corfu-quit-no-match nil)      ;; Never quit, even if there is no match
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; (corfu-preview-current nil)    ;; Disable current candidate preview
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; (corfu-preselect 'prompt)      ;; Preselect the prompt
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; (corfu-on-exact-match nil)     ;; Configure handling of exact matches
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; (corfu-scroll-margin 5)        ;; Use scroll margin
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; Enable Corfu only for certain modes. See also `</span><span class="org-comment"><span class="org-constant">global-corfu-modes</span></span><span class="org-comment">'.
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:hook ((prog-mode . corfu-mode))
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:config
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(keymap-set corfu-map "RET" #'corfu-send))
</span>
(<span class="org-keyword">provide</span> '<span class="org-constant">completion-conf</span>)
<span class="org-comment-delimiter">;;; </span><span class="org-comment">completion-conf.el ends here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga9f6d48" class="outline-2">
<h2 id="orga9f6d48"><span class="section-number-2">6.</span> Dired</h2>
<div class="outline-text-2" id="text-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">dired-conf.el --- Summary  -*- lexical-binding: t; -*-
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:
</span>(<span class="org-keyword">use-package</span> dired
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:custom</span>
  (dired-listing-switches <span class="org-string">"-ahl"</span>))
(<span class="org-keyword">use-package</span> dired-filter)
(<span class="org-keyword">use-package</span> dired-subtree
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> dired-mode-map (<span class="org-string">"C-,"</span> . dired-subtree-toggle)))


(<span class="org-keyword">provide</span> '<span class="org-constant">dired-conf</span>)
<span class="org-comment-delimiter">;;; </span><span class="org-comment">dired-conf.el ends here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1a2134d" class="outline-2">
<h2 id="org1a2134d"><span class="section-number-2">7.</span> Note</h2>
<div class="outline-text-2" id="text-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">note-conf.el --- Summary  -*- lexical-binding: t; -*-
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:
</span>(<span class="org-keyword">use-package</span> org-contrib)
(<span class="org-keyword">use-package</span> ob-typescript)
(<span class="org-keyword">use-package</span> ob-powershell)
(<span class="org-keyword">use-package</span> org
  <span class="org-builtin">:pin</span> org
  <span class="org-builtin">:commands</span> (org-capture org-agenda)
  <span class="org-builtin">:custom</span>
  (org-agenda-start-with-log-mode t)
  (org-catch-invisible-edits 'show)
  (org-edit-timestamp-down-means-later t)
  (org-export-coding-system 'utf-8)
  (org-export-kill-product-buffer-when-displayed t)
  (org-fast-tag-selection-single-key 'expert)
  (org-hide-emphasis-markers t)
  (org-html-validation-link nil)
  (org-image-actual-width '(450))
  (org-log-done 'time)
  (org-log-into-drawer t)
  (org-pretty-entities nil)
  (org-startup-indented nil)
  (org-startup-with-inline-images t)
  (org-tags-column 80)
  (org-src-window-setup 'current-window)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">require</span> '<span class="org-constant">org-tempo</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">ob-js</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">ob-typescript</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">ob-ruby</span>)
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"txt"</span>  . <span class="org-string">"src text"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"sh"</span>   . <span class="org-string">"src shell"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"zsh"</span>  . <span class="org-string">"src zsh"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"bash"</span> . <span class="org-string">"src bash"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"posh"</span> . <span class="org-string">"src powershell"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"el"</span>   . <span class="org-string">"src emacs-lisp"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"py"</span>   . <span class="org-string">"src python"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"js"</span>   . <span class="org-string">"src js"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"ts"</span>   . <span class="org-string">"src typescript"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"java"</span> . <span class="org-string">"src java"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"scm"</span>  . <span class="org-string">"src scheme"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"sql"</span>  . <span class="org-string">"src sql"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"rust"</span> . <span class="org-string">"src rust"</span>))
  (add-to-list 'org-structure-template-alist '(<span class="org-string">"rb"</span>   . <span class="org-string">"src ruby"</span>))
  (org-babel-do-load-languages
   'org-babel-load-languages
   (seq-filter
      (<span class="org-keyword">lambda</span> (pair)
        (locate-library (concat <span class="org-string">"ob-"</span> (symbol-name (car pair)))))
      '((dot        . t)
        (gnuplot    . t)
        (latex      . t)
        (python     . t)
        (js         . t)
        (typescript . t)
        (shell      . t)
        (zsh        . t)
        (bash       . t)
        (posh       . t)
        (powershell . t)
        (scheme     . t)
        (sql        . t)
        (sqlite     . t)
        (ruby       . t))))
  (<span class="org-keyword">defun</span> <span class="org-function-name">handle-electric-pair-inhibit</span> (c)
      (<span class="org-keyword">if</span> (char-equal c ?&lt;) t (,electric-pair-inhibit-predicate c)))
  (<span class="org-keyword">defun</span> <span class="org-function-name">handle-org-mode-hook</span>()
      (<span class="org-keyword">setq-local</span> electric-pair-inhibit-predicate #'handle-electric-pair-inhibit))
  (add-hook 'org-mode-hook #'handle-org-mode-hook))

(<span class="org-keyword">use-package</span> org-appear
  <span class="org-builtin">:hook</span>
  (org-mode . org-appear-mode)
  <span class="org-builtin">:custom</span>
  (org-appear-autoemphasis t)
  (org-appear-autolinks t)
  (org-appear-autosubmarkers t)
  (org-appear-autoentities t)
  (org-appear-autokeywords t)
  (org-appear-inside-latex t)
  (org-appear-delay 0.0)
  (org-appear-trigger 'always))

(<span class="org-keyword">use-package</span> markdown-mode
  <span class="org-builtin">:custom</span>
  (markdown-split-window-direction 'right))

(<span class="org-keyword">provide</span> '<span class="org-constant">note-conf</span>)
<span class="org-comment-delimiter">;;; </span><span class="org-comment">note-conf.el ends here</span>
</pre>
</div>

<p>
If want some PDF stuff.
</p>

<p>
Reference some ideas: <a href="https://emacselements.com/pdf-tools-settings.html">EmacsElements</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">pdf-conf.el --- Summary  -*- lexical-binding: t; -*-
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:
</span>(pdf-tools-install)
(<span class="org-keyword">use-package</span> saveplace-pdf-view)
(global-goto-address-mode t)
(<span class="org-keyword">provide</span> '<span class="org-constant">pdf-conf</span>)
<span class="org-comment-delimiter">;;; </span><span class="org-comment">pdf-conf.el ends here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org0d8d2de" class="outline-2">
<h2 id="org0d8d2de"><span class="section-number-2">8.</span> Shell</h2>
<div class="outline-text-2" id="text-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">shell-conf.el --- Summary  -*- lexical-binding: t; -*-
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:
</span>(<span class="org-keyword">when</span> (eq system-type 'gnu/linux)
  (<span class="org-keyword">use-package</span> eat
      <span class="org-builtin">:bind</span> ((<span class="org-string">"C-c `"</span> . eat))
      <span class="org-builtin">:hook</span> ((eat-exit . pgm/kill-eat-buffer-on-exit))
      <span class="org-builtin">:config</span>
      (<span class="org-keyword">defun</span> <span class="org-function-name">pgm/kill-eat-buffer-on-exit</span> (process)
        <span class="org-doc">"Kill the eat buffer when the shell process exits."</span>
        (<span class="org-keyword">let</span> ((buf (process-buffer process)))
        (<span class="org-keyword">when</span> (buffer-live-p buf)
          (kill-buffer buf))))))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Shell
</span>(<span class="org-keyword">use-package</span> shell
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:custom</span>
  (comint-prompt-read-only t)
  (comint-process-echoes t))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Eshell
</span>(<span class="org-keyword">use-package</span> eshell
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:custom</span>
  (eshell-history-size 10000)
  (eshell-buffer-maximum-lines 10000)
  (eshell-hist-ignoredups t)
  (eshell-scroll-to-bottom-on-input 'all)
  (eshell-scroll-to-bottom-on-output t)
  (eshell-error-if-no-glob t)
  (eshell-save-history-on-exit t)
  (eshell-prefer-lisp-functions t)
  (eshell-destroy-buffer-when-process-dies t)
  (eshell-visual-commands '(<span class="org-string">"vi"</span> <span class="org-string">"screen"</span> <span class="org-string">"top"</span>  <span class="org-string">"htop"</span> <span class="org-string">"btm"</span> <span class="org-string">"less"</span> <span class="org-string">"more"</span> <span class="org-string">"lynx"</span> <span class="org-string">"ncftp"</span> <span class="org-string">"pine"</span> <span class="org-string">"tin"</span> <span class="org-string">"trn"</span>
                            <span class="org-string">"elm"</span> <span class="org-string">"irssi"</span> <span class="org-string">"nmtui-connect"</span> <span class="org-string">"nethack"</span> <span class="org-string">"vim"</span> <span class="org-string">"alsamixer"</span> <span class="org-string">"nvim"</span> <span class="org-string">"w3m"</span>
                            <span class="org-string">"ncmpcpp"</span> <span class="org-string">"newsbeuter"</span> <span class="org-string">"nethack"</span> <span class="org-string">"mutt"</span> <span class="org-string">"fzf"</span>))
  <span class="org-builtin">:hook</span>
  (eshell-load . eat-eshell-mode)
  (eshell-load . eat-eshell-visual-command-mode))

(<span class="org-keyword">use-package</span> eshell-prompt-extras
  <span class="org-builtin">:hook</span>
  (eshell-first-time-mode . pgm/eshell-init)
  <span class="org-builtin">:custom</span>
  (eshell-highlight-prompt t)
  (eshell-prompt-function 'epe-theme-lambda)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">pgm/eshell-init</span> ()
      (eshell/alias <span class="org-string">"l"</span> <span class="org-string">"ls -hl"</span>)
      (eshell/alias <span class="org-string">"ll"</span> <span class="org-string">"ls -hl"</span>)
      (eshell/alias <span class="org-string">"la"</span> <span class="org-string">"ls -ahl"</span>)
      (eshell/alias <span class="org-string">"gs"</span> <span class="org-string">"git status"</span>)
      (eshell/alias <span class="org-string">"gd"</span> <span class="org-string">"git diff"</span>)
      (eshell/alias <span class="org-string">"gl"</span> <span class="org-string">"git log --oneline"</span>)
      (eshell/alias <span class="org-string">".."</span> <span class="org-string">"cd .."</span>)))

(<span class="org-keyword">provide</span> '<span class="org-constant">shell-conf</span>)
<span class="org-comment-delimiter">;;; </span><span class="org-comment">shell-conf.el ends here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgde1727e" class="outline-2">
<h2 id="orgde1727e"><span class="section-number-2">9.</span> Programming</h2>
<div class="outline-text-2" id="text-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">prog-conf.el --- Summary  -*- lexical-binding: t; -*-
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(use-package company
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:hook
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(prog-mode . company-mode)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:bind (:map company-mode-map
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">             ("TAB" . company-indent-or-complete-common)
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">             ([tab] . company-indent-or-complete-common)
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">             :map company-active-map
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">             ("TAB"       . company-complete-selection)
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">             ([tab]       . company-complete-selection)
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">             ("&lt;backtab&gt;" . company-abort)
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">             ("C-g"       . company-abort)
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">             ("C-h"       . company-show-doc-buffer))
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:custom
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(company-idle-delay                nil)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(company-minimum-prefix-length     1)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(company-require-match-p           'never)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(company-frontends                 '(company-preview-frontend company-echo-metadata-frontend))
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(company-backends                  '(company-capf))
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(company-tooltip-align-annotations t))
</span>
(<span class="org-keyword">use-package</span> corfu
  <span class="org-builtin">:custom</span>
  (corfu-auto nil)
  (corfu-auto-delay 0.3)
  (corfu-auto-prefix 3)
  (corfu-preview-current t))

(<span class="org-keyword">use-package</span> corfu-candidate-overlay
  <span class="org-builtin">:after</span> corfu
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">enable corfu-candidate-overlay mode globally
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">this relies on having corfu-auto set to nil
</span>  (corfu-candidate-overlay-mode 1)
  (global-set-key (kbd <span class="org-string">"C-&lt;tab&gt;"</span>) 'completion-at-point))

(<span class="org-keyword">use-package</span> eglot
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:custom</span>
  (eglot-autoshutdown t)
  (eglot-events-buffer-size 0)
  (eglot-events-buffer-config '(<span class="org-builtin">:size</span> 0 <span class="org-builtin">:format</span> full))
  (eglot-prefer-plaintext t)
  (jsonrpc-event-hook nil)
  (eglot-code-action-indications nil) <span class="org-comment-delimiter">;; </span><span class="org-comment">Emacs 31 -- annoying as hell
</span>  <span class="org-builtin">:init</span>
  (fset #'jsonrpc--log-event #'ignore)
  <span class="org-builtin">:hook</span>
  (mhtml-mode         . eglot-ensure)
  (css-mode           . eglot-ensure)
  (ja-mode            . eglot-ensure)
  (js-ts-mode         . eglot-ensure)
  (typescript-mode    . eglot-ensure)
  (typescript-ts-mode . eglot-ensure)
  (python-mode        . eglot-ensure)
  (ruby-mode          . eglot-ensure)
  (ruby-ts-mode       . eglot-ensure)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">((mhtml-mode
</span>  <span class="org-comment-delimiter">;;   </span><span class="org-comment">css-mode
</span>  <span class="org-comment-delimiter">;;   </span><span class="org-comment">;; css-ts-mode
</span>  <span class="org-comment-delimiter">;;   </span><span class="org-comment">;; js-ts-mode
</span>  <span class="org-comment-delimiter">;;   </span><span class="org-comment">;; typescript-ts-mode
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">   js-mode
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">   typescript-mode
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">   python-mode
</span>  <span class="org-comment-delimiter">;;   </span><span class="org-comment">java-mode)
</span>  <span class="org-comment-delimiter">;;  </span><span class="org-comment">. eglot-ensure)
</span>  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span>
               eglot-mode-map
               (<span class="org-string">"C-c l a"</span> . eglot-code-actions)
               (<span class="org-string">"C-c l o"</span> . eglot-code-actions-organize-imports)
               (<span class="org-string">"C-c l r"</span> . eglot-rename)
               (<span class="org-string">"C-c l f"</span> . eglot-format))
  <span class="org-builtin">:config</span>
  (add-to-list 'eglot-server-programs '((ruby-mode ruby-ts-mode) <span class="org-string">"ruby-lsp"</span>)))

<span class="org-comment-delimiter">;; </span><span class="org-comment">(use-package lsp-mode
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:hook
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">((java-mode          . lsp)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(java-ts-mode       . lsp)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(bash-ts-mode       . lsp)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(mhtml-mode         . lsp)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(js-ts-mode         . lsp)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(json-ts-mode       . lsp)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(typescript-mode    . lsp)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(typescript-ts-mode . lsp)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(python-mode        . lsp)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(python-ts-mode     . lsp)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(c-mode             . lsp)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(c-ts-mode          . lsp)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(clojure-mode       . lsp)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(ruby-mode          . lsp-deferred)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">(ruby-ts-mode       . lsp-deferred))
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:custom
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(lsp-keymap-prefix "C-c l")
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(lsp-enable-on-type-formatting nil)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(lsp-enable-indentation nil)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(lsp-completion-provider :none)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; https://github.com/sqls-server/sqls?tab=readme-ov-file#installation
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; https://github.com/sqls-server/sqls?tab=readme-ov-file#db-configuration
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(lsp-sqls-workspace-config-path "workspace")
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(lsp-sqls-connections nil)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(lsp-disabled-clients '(rubocop-ls solargraph sorbet-ls))
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(lsp-ruby-use-bundler t)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:bind
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(:map lsp-mode-map
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">       ("C-c l r" . lsp-rename)))
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(use-package lsp-java
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:after lsp
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:hook
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(java-mode . lsp))
</span>
(<span class="org-keyword">use-package</span> compile
  <span class="org-builtin">:ensure</span> nil
  <span class="org-comment-delimiter">;; </span><span class="org-comment">:hook
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">(;; Not ideal, but I do not want this poluting the modeline
</span>  <span class="org-comment-delimiter">;;  </span><span class="org-comment">(compilation-start . (lambda () (setq compilation-in-progress nil))))
</span>  <span class="org-builtin">:custom</span>
  (compilation-always-kill t)
  (compilation-scroll-output t)
  (ansi-color-for-compilation-mode t)
  <span class="org-builtin">:config</span>
  (add-hook 'compilation-filter-hook #'ansi-color-compilation-filter))

(<span class="org-keyword">use-package</span> makefile-mode
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:mode</span> <span class="org-string">"\\Makefile.*\\'"</span>
  <span class="org-builtin">:defer</span> 't
  <span class="org-builtin">:config</span>
  (add-to-list 'treesit-language-source-alist '(make <span class="org-string">"https://github.com/alemuller/tree-sitter-make"</span>)))

(<span class="org-keyword">unless</span> (eq system-type 'windows-nt)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">TODO: finish https://clojure-doc.org/articles/tutorials/introduction/
</span>  (<span class="org-keyword">use-package</span> cider
      <span class="org-builtin">:custom</span>
      (nrepl-use-ssh-fallback-for-remote-hosts t))
  (<span class="org-keyword">use-package</span> ejc-sql
      <span class="org-comment-delimiter">;; </span><span class="org-comment">Github: https://github.com/kostafey/ejc-sql?tab=readme-ov-file#mariadbconnection
</span>      <span class="org-comment-delimiter">;; </span><span class="org-comment">M-x ejc-connect
</span>      <span class="org-comment-delimiter">;; </span><span class="org-comment">M-x ejc-quit-connection -&gt; it refreshes the connection
</span>      <span class="org-builtin">:config</span>
      (load (expand-file-name <span class="org-string">".local/ejc-config.el"</span> user-emacs-directory) 'noerror 'nomessage))
  (<span class="org-keyword">use-package</span> tree-sitter
      <span class="org-builtin">:config</span>
      (global-tree-sitter-mode 1))
  (<span class="org-keyword">use-package</span> tree-sitter-langs)
  (<span class="org-keyword">use-package</span> treesit-auto
      <span class="org-builtin">:config</span>
      (global-treesit-auto-mode 1)))

(<span class="org-keyword">use-package</span> conf-mode
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:mode</span> (<span class="org-string">"\\.env\\..*\\'"</span> <span class="org-string">"\\.env\\'"</span>)
  <span class="org-builtin">:init</span>
  (add-to-list 'auto-mode-alist '(<span class="org-string">"\\.env\\'"</span> . conf-mode)))

(<span class="org-keyword">use-package</span> sql-indent
  <span class="org-builtin">:hook</span>
  (sql-mode . sqlind-minor-mode))

(<span class="org-keyword">use-package</span> typescript-mode <span class="org-builtin">:defer</span> t)
(<span class="org-keyword">use-package</span> powershell <span class="org-builtin">:defer</span> t)
(<span class="org-keyword">use-package</span> scss-mode <span class="org-builtin">:defer</span> t)
(<span class="org-keyword">use-package</span> yaml-mode <span class="org-builtin">:defer</span> t)

<span class="org-comment-delimiter">;; </span><span class="org-comment">(use-package python-mode
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:ensure nil
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:mode "\\.py\\'"
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:defer 't
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; :config
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; TODO: python related configs
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; TODO: python-ts-mode crashes when open .py files
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; (add-to-list 'treesit-language-source-alist '(python "https://github.com/tree-sitter/tree-sitter-python" "master" "src"))
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">)
</span>
(<span class="org-keyword">use-package</span> magit)

(<span class="org-keyword">use-package</span> project
  <span class="org-builtin">:bind</span>
  ((<span class="org-string">"C-x p C"</span> . project-recompile)))

(<span class="org-keyword">use-package</span> smerge-mode
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> smerge-mode-map
              (<span class="org-string">"C-c ^ u"</span> . smerge-keep-upper)
              (<span class="org-string">"C-c ^ l"</span> . smerge-keep-lower)
              (<span class="org-string">"C-c ^ n"</span> . smerge-next)
              (<span class="org-string">"C-c ^ p"</span> . smerge-previous)))

(<span class="org-keyword">use-package</span> eldoc
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:init</span>
  (global-eldoc-mode))

(<span class="org-keyword">use-package</span> eldoc-box
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:custom</span>
  (eldoc-box-border-width 1)
  (eldoc-box-echo-area-use-multiline-p t)
  (eldoc-box-scrollbar-width 8)
  (eldoc-box-max-lines 10)
  (eldoc-box-use-echo-area nil)
  <span class="org-builtin">:bind</span>
  (<span class="org-string">"C-c h ."</span> . eldoc-box-help-at-point)
  <span class="org-builtin">:hook</span>
  (eldoc-mode . eldoc-box-hover-mode))

(<span class="org-keyword">use-package</span> dap-mode
  <span class="org-builtin">:after</span> lsp-mode
  <span class="org-comment-delimiter">;; </span><span class="org-comment">:custom
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">(dap-auto-configure-features '())
</span>  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> dap-mode-map
              (<span class="org-string">"C-c &lt;f9&gt;"</span> . dap-debug)
              (<span class="org-string">"C-c &lt;f8&gt;"</span> . dap-breakpoint-toggle)
              (<span class="org-string">"C-c d r"</span>  . dap-debug-restart)
              (<span class="org-string">"&lt;f7&gt;"</span>     . dap-step-in)
              (<span class="org-string">"&lt;f10&gt;"</span>    . dap-step-out)
              (<span class="org-string">"&lt;f8&gt;"</span>     . dap-next)
              (<span class="org-string">"&lt;f11&gt;"</span>    . dap-previous)
              (<span class="org-string">"&lt;f9&gt;"</span>     . dap-continue)
              (<span class="org-string">"C-c d q"</span>  . dap-disconnect)
              (<span class="org-string">"C-c d e"</span>  . dap-eval)
              (<span class="org-string">"C-c d v"</span>  . dap-eval-thing-at-point)
              (<span class="org-string">"C-c d E"</span>  . dap-eval-region))
  <span class="org-builtin">:config</span>
  (dap-auto-configure-mode)
  (<span class="org-keyword">require</span> '<span class="org-constant">dap-java</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">dap-lldb</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">dap-cpptools</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">dap-gdb</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">dap-gdb-lldb</span>)

  <span class="org-comment-delimiter">;; </span><span class="org-comment">(require 'dap-cpptools)
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">(with-eval-after-load 'dap-mode
</span>  <span class="org-comment-delimiter">;;</span><span class="org-comment">    (dap-register-debug-template
</span>  <span class="org-comment-delimiter">;;</span><span class="org-comment">     "LLDB::Run"
</span>  <span class="org-comment-delimiter">;;</span><span class="org-comment">     (list :type "lldb-vscode"
</span>  <span class="org-comment-delimiter">;;</span><span class="org-comment">               :cwd  (expand-file-name (project-root (project-current)))
</span>  <span class="org-comment-delimiter">;;</span><span class="org-comment">               :request "launch"
</span>  <span class="org-comment-delimiter">;;</span><span class="org-comment">               :program (expand-file-name "bin/win32_game.exe" (project-root (project-current)))
</span>  <span class="org-comment-delimiter">;;</span><span class="org-comment">               :name "LLDB::Run")))
</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">(setq dap-lldb-debug-program '("C:/Users/douzone/.emacs.d/.extension/vscode/vadimcn.vscode-lldb/codelldb-win32-x64/extension/adapter/codelldb.exe"))
</span>  )

<span class="org-comment-delimiter">;; </span><span class="org-comment">(use-package evil
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:init
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(setq evil-disable-insert-state-bindings t)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(setq evil-move-beyond-eol t)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; :hook (prog-mode . evil-local-mode)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">)
</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">EGLOT
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">pip install python-lsp-server flake8
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">npm install -g typescript teypscript-language-server
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">npm install -g vscode-langservers-extracted
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">(use-package eglot
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:ensure nil
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:custom
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(eglot-autoshutdown t)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(eglot-events-buffer-size 0)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(eglot-events-buffer-config '(:size 0 :format full))
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(eglot-prefer-plaintext t)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(jsonrpc-event-hook nil)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(eglot-code-action-indications nil) ;; Emacs 31 -- annoying as hell
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:init
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">(fset #'jsonrpc--log-event #'ignore)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:hook
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">((mhtml-mode
</span><span class="org-comment-delimiter">;;     </span><span class="org-comment">css-mode
</span><span class="org-comment-delimiter">;;     </span><span class="org-comment">;; css-ts-mode
</span><span class="org-comment-delimiter">;;     </span><span class="org-comment">;; js-ts-mode
</span><span class="org-comment-delimiter">;;     </span><span class="org-comment">;; typescript-ts-mode
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">      js-mode
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">      typescript-mode
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">      python-mode
</span><span class="org-comment-delimiter">;;     </span><span class="org-comment">java-mode)
</span><span class="org-comment-delimiter">;;    </span><span class="org-comment">. eglot-ensure)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:bind (:map
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">               eglot-mode-map
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">               ("C-c l a" . eglot-code-actions)
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">               ("C-c l o" . eglot-code-actions-organize-imports)
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">               ("C-c l r" . eglot-rename)
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">               ("C-c l f" . eglot-format)))
</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">EGLOT-JAVA
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">(use-package eglot-java
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:hook
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">((java-mode java-ts-mode)  . eglot-java-mode)
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:bind (:map
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">               eglot-java-mode-map
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">               ("C-c l n" . eglot-java-file-new)
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">               ("C-c l x" . eglot-java-run-main)
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">               ("C-c l t" . eglot-java-run-test)
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">               ("C-c l N" . eglot-java-project-new)
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">               ("C-c l T" . eglot-java-project-build-task)
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">               ("C-c l R" . eglot-java-project-build-refresh)))
</span>
(<span class="org-keyword">use-package</span> elec-pair
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:defer</span>
  <span class="org-builtin">:hook</span>
  (after-init-hook . electric-pair-mode))

(<span class="org-keyword">use-package</span> paren
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:hook</span>
  (after-init-hook . show-paren-mode)
  <span class="org-builtin">:custom</span>
  (show-paren-delay 0)
  (show-paren-style 'mixed)
  (show-paren-context-when-offscreen t))

(<span class="org-keyword">use-package</span> inf-ruby)

(<span class="org-keyword">use-package</span> tagedit
  <span class="org-builtin">:hook</span>
  ((mhtml-mode
      sgml-mode
      nxml-mode)
   . (<span class="org-keyword">lambda</span> ()
         (tagedit-add-paredit-like-keybindings)
         (tagedit-mode 1))))

(<span class="org-keyword">use-package</span> emmet-mode
  <span class="org-builtin">:hook</span> (mhtml-mode sgml-mode nxml-mode))

(<span class="org-keyword">use-package</span> flymake
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:hook</span> ((prog-mode . flymake-mode)
         (elisp-mode . flymake-mode))
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> flymake-mode-map
              (<span class="org-string">"M-8"</span> . flymake-goto-next-error)
              (<span class="org-string">"M-7"</span> . flymake-goto-prev-error)
              (<span class="org-string">"C-c ! n"</span> . flymake-goto-next-error)
              (<span class="org-string">"C-c ! p"</span> . flymake-goto-prev-error)
              (<span class="org-string">"C-c ! l"</span> . flymake-show-buffer-diagnostics)
              (<span class="org-string">"C-c ! t"</span> . toggle-flymake-diagnostics-at-eol))
  <span class="org-builtin">:custom</span>
  (flymake-show-diagnostics-at-end-of-line nil)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(flymake-show-diagnostics-at-end-of-line 'short)
</span>  (flymake-indicator-type 'margins)
  (flymake-margin-indicators-string
   `((<span class="org-warning">error</span>   <span class="org-string">"!"</span> compilation-error) <span class="org-comment-delimiter">;; </span><span class="org-comment">Alternatives: &#187;, E, W, i, !, ?)
</span>       (warning <span class="org-string">"?"</span> compilation-warning)
       (note    <span class="org-string">"i"</span> compilation-info)))
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Define the toggle function
</span>  (<span class="org-keyword">defun</span> <span class="org-function-name">toggle-flymake-diagnostics-at-eol</span> ()
      <span class="org-doc">"Toggle the display of Flymake diagnostics at the end of the line
and restart Flymake to apply the changes."</span>
      (<span class="org-keyword">interactive</span>)
      (<span class="org-keyword">setq</span> flymake-show-diagnostics-at-end-of-line
          (not flymake-show-diagnostics-at-end-of-line))
      (flymake-mode -1) <span class="org-comment-delimiter">;; </span><span class="org-comment">Disable Flymake
</span>      (flymake-mode 1)  <span class="org-comment-delimiter">;; </span><span class="org-comment">Re-enable Flymake
</span>      (message <span class="org-string">"Flymake diagnostics at end of line: %s"</span>
             (<span class="org-keyword">if</span> flymake-show-diagnostics-at-end-of-line
                 <span class="org-string">"Enabled"</span> <span class="org-string">"Disabled"</span>))))

(<span class="org-keyword">use-package</span> diff-mode
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> diff-default-read-only t)
  (<span class="org-keyword">setq</span> diff-advance-after-apply-hunk t)
  (<span class="org-keyword">setq</span> diff-update-on-the-fly t)
  (<span class="org-keyword">setq</span> diff-font-lock-syntax 'hunk-also)
  (<span class="org-keyword">setq</span> diff-font-lock-prettify nil))

(<span class="org-keyword">use-package</span> copilot
  <span class="org-comment-delimiter">;; </span><span class="org-comment">:hook (prog-mode . copilot-mode)
</span>  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> copilot-completion-map
              (<span class="org-string">"C-c C-n"</span>     . copilot-next-completion)
              (<span class="org-string">"C-c n"</span>       . copilot-next-completion)
              (<span class="org-string">"C-c C-p"</span>     . copilot-previous-completion)
              (<span class="org-string">"C-c p"</span>       . copilot-previous-completion)
              (<span class="org-string">"C-c c f"</span>     . copilot-accept-completion-by-word)
              (<span class="org-string">"C-c c e"</span>     . copilot-accept-completion-by-line)
              (<span class="org-string">"C-c &lt;SPC&gt;"</span>   . copilot-accept-completion)
              (<span class="org-string">"C-c c &lt;SPC&gt;"</span> . copilot-accept-completion)
              (<span class="org-string">"C-c C-&lt;SPC&gt;"</span> . copilot-accept-completion)
              (<span class="org-string">"C-c c t"</span>     . copilot-toggle-auto-complete)))

(<span class="org-keyword">use-package</span> ediff
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:commands</span> (ediff-buffers ediff-files ediff-buffers3 ediff-files3)
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">setq</span> ediff-split-window-function 'split-window-horizontally)
  (<span class="org-keyword">setq</span> ediff-window-setup-function 'ediff-setup-windows-plain)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> ediff-keep-variants nil)
  (<span class="org-keyword">setq</span> ediff-make-buffers-readonly-at-startup nil)
  (<span class="org-keyword">setq</span> ediff-merge-revisions-with-ancestor t)
  (<span class="org-keyword">setq</span> ediff-show-clashes-only t))

(<span class="org-keyword">use-package</span> yasnippet
  <span class="org-builtin">:hook</span>
  (prog-mode . yas-minor-mode))

<span class="org-comment-delimiter">;; </span><span class="org-comment">(use-package smart-hungry-delete
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:ensure t
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:bind (([remap backward-delete-char-untabify] . smart-hungry-delete-backward-char)
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">               ([remap delete-backward-char] . smart-hungry-delete-backward-char)
</span><span class="org-comment-delimiter">;;</span><span class="org-comment">               ([remap delete-char] . smart-hungry-delete-forward-char))
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:init (smart-hungry-delete-add-default-hooks))
</span>
(<span class="org-keyword">use-package</span> whitespace
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:defer</span> t
  <span class="org-comment-delimiter">;; </span><span class="org-comment">:hook (before-save . whitespace-cleanup)
</span>  )

(<span class="org-keyword">provide</span> '<span class="org-constant">prog-conf</span>)
<span class="org-comment-delimiter">;;; </span><span class="org-comment">prog-conf.el ends here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4ce5061" class="outline-2">
<h2 id="org4ce5061"><span class="section-number-2">10.</span> Miscellaneous</h2>
<div class="outline-text-2" id="text-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">misc-conf.el --- Summary  -*- lexical-binding: t; -*-
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:
</span>(<span class="org-keyword">use-package</span> notmuch
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> mail-user-agent 'notmuch-user-agent))

(<span class="org-keyword">setq</span> user-full-name (getenv <span class="org-string">"USER_FULL_NAME"</span>)
        user-mail-address (getenv <span class="org-string">"USER_EMAIL"</span>)
        auth-sources '(<span class="org-string">"~/.authinfo.gpg"</span>))
(<span class="org-keyword">setq</span> send-mail-function 'sendmail-send-it
        message-send-mail-function 'sendmail-send-it
        sendmail-program (executable-find <span class="org-string">"msmtp"</span>)
        message-send-mail-function 'message-send-mail-with-sendmail)
(<span class="org-keyword">provide</span> '<span class="org-constant">misc-conf</span>)
<span class="org-comment-delimiter">;;; </span><span class="org-comment">misc-conf.el ends here</span>
</pre>
</div>

<p>
Some extra stuff.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> ejc-sql
  <span class="org-builtin">:custom</span>
  (clomacs-httpd-default-port 8888)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">let</span> ((ojdbc-path <span class="org-string">"~/.m2/repository/com/oracle/ojdbc8/8/ojdbc8-8.jar"</span>)
          (maria-path <span class="org-string">"~/.m2/repository/org/mariadb/jdbc/mariadb-java-client/2.6.2/mariadb-java-client-2.6.2.jar"</span>))
    (ejc-create-connection
     <span class="org-string">"ERP10 20419"</span>
     <span class="org-builtin">:classpath</span>      ojdbc-path
     <span class="org-builtin">:connection-uri</span> (concat <span class="org-string">"jdbc:oracle:thin:@"</span>
                             (getenv <span class="org-string">"X20419_DB_HOST"</span>) <span class="org-string">":"</span>
                             (getenv <span class="org-string">"X20419_DB_PORT"</span>) <span class="org-string">":"</span>
                             (getenv <span class="org-string">"X20419_DB_NAME"</span>))
     <span class="org-builtin">:user</span>           (getenv <span class="org-string">"X20419_DB_USERNAME"</span>)
     <span class="org-builtin">:password</span>       (getenv <span class="org-string">"X20419_DB_PASSWORD"</span>)
     <span class="org-builtin">:separator</span>      <span class="org-string">"/"</span>)
    (ejc-create-connection
     <span class="org-string">"ERP10 20313"</span>
     <span class="org-builtin">:classpath</span>      maria-path
     <span class="org-builtin">:connection-uri</span> <span class="org-string">"jdbc:mariadb://uri:port/dbname"</span>
     <span class="org-builtin">:user</span>           <span class="org-string">"USER_ID"</span>
     <span class="org-builtin">:password</span>       <span class="org-string">"PASSWORD"</span>
     <span class="org-builtin">:separator</span>      <span class="org-string">"/"</span>)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> gptel
      <span class="org-builtin">:custom</span>
      (gptel-default-mode 'org-mode)
      (gptel-backend (gptel-make-gemini <span class="org-string">"Gemini"</span> <span class="org-builtin">:key</span> <span class="org-string">"Gemini_API_Key"</span> <span class="org-builtin">:stream</span> t)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">package-setup-function.el --- Summary  -*- lexical-binding: t; -*-
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:
</span>(<span class="org-keyword">defun</span> <span class="org-function-name">setup-eat</span> ()
  <span class="org-doc">"Setup `</span><span class="org-doc"><span class="org-constant">eat</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">use-package</span> eat))

(<span class="org-keyword">defun</span> <span class="org-function-name">setup-dumb-jump</span> ()
  <span class="org-doc">"Setup `</span><span class="org-doc"><span class="org-constant">dumb-jump</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">use-package</span> dumb-jump))

(<span class="org-keyword">defun</span> <span class="org-function-name">set-up-restclient</span> ()
  <span class="org-doc">"Usage:
:header = &lt;&lt;
Content-Type: application/json
X-Authenticate-Token: :token
#

GET http://localhost:8080/api/list
:header
#

POST http://localhost:8080/api/login
Content-Type: application/x-www-form-urlencoded
-&gt; jq-set-var :token .data.access_token

userid=userid&amp;password=1111
#

for more details
https://github.com/pashky/restclient.el/"</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">use-package</span> restclient)
  (<span class="org-keyword">use-package</span> restclient-jq))

(<span class="org-keyword">defun</span> <span class="org-function-name">restclient-scratch-buffer</span>()
  <span class="org-doc">"Make `</span><span class="org-doc"><span class="org-constant">restclient-mode</span></span><span class="org-doc">' buffer."</span>
  (<span class="org-keyword">interactive</span>)
  (switch-to-buffer (get-buffer-create <span class="org-string">"*scratch-restclient*"</span>))
  (restclient-mode))

(<span class="org-keyword">defun</span> <span class="org-function-name">setup-request</span> ()
  <span class="org-doc">"Setup `</span><span class="org-doc"><span class="org-constant">request</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">use-package</span> request))

<span class="org-comment-delimiter">;; </span><span class="org-comment">(request "http://localhost:8080/api/CM/AccountService/login"
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:type "POST"
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">;; :headers '(("Content-Type" . "application/x-www-form-urlencoded"))
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:data '(("userid" . "userid") ("password" . "password"))
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:parser 'json-read
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:success (cl-function
</span><span class="org-comment-delimiter">;;             </span><span class="org-comment">(lambda (&amp;key data &amp;allow-other-keys)
</span><span class="org-comment-delimiter">;;               </span><span class="org-comment">(setq token (assoc-default 'access_token (assoc-default 'data data))))))
</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(request "http://localhost:8080/api/HR/Evarpt00400_Z20313Service/listMenu"
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:headers `(("Content-Type" . "application/json")
</span><span class="org-comment-delimiter">;;              </span><span class="org-comment">("X-Authenticate-Token" . ,token))
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:parser 'json-read
</span><span class="org-comment-delimiter">;;   </span><span class="org-comment">:success (cl-function
</span><span class="org-comment-delimiter">;;             </span><span class="org-comment">(lambda (&amp;key data &amp;allow-other-keys)
</span><span class="org-comment-delimiter">;;               </span><span class="org-comment">(message "%S" (recurse-alist (assoc-default 'data data))))))
</span>
(<span class="org-keyword">defun</span> <span class="org-function-name">setup-geiser-guile</span> ()
  <span class="org-doc">"Setup `</span><span class="org-doc"><span class="org-constant">geiser-guile</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">use-package</span> geiser-guile
      <span class="org-builtin">:config</span>
      (<span class="org-keyword">setq</span> geiser-scheme-implementation 'guile)))

(<span class="org-keyword">defun</span> <span class="org-function-name">setup-pyvenv</span> ()
  <span class="org-doc">"Setup `</span><span class="org-doc"><span class="org-constant">pyvenv</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">use-package</span> pyvenv))

(<span class="org-keyword">defun</span> <span class="org-function-name">setup-emmet-mode</span> ()
  <span class="org-doc">"Setup `</span><span class="org-doc"><span class="org-constant">emmet-mode</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">use-package</span> emmet-mode
      <span class="org-builtin">:hook</span>
      (mhtml-mode . emmet-mode)))

(<span class="org-keyword">use-package</span> denote
  <span class="org-builtin">:custom</span>
  (denote-sort-keywords t)
  (denote-directory (expand-file-name <span class="org-string">"~/Documents/notes/denote/"</span>))
  (denote-prompts '(file-type subdirectory title keywords))
  <span class="org-builtin">:hook</span>
  (dired-mode . denote-dired-mode))

(<span class="org-keyword">provide</span> '<span class="org-constant">package-setup-function</span>)
<span class="org-comment-delimiter">;;; </span><span class="org-comment">package-setup-function.el ends here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgca6568b" class="outline-2">
<h2 id="orgca6568b"><span class="section-number-2">11.</span> Linux</h2>
<div class="outline-text-2" id="text-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">linux-conf.el --- Summary  -*- lexical-binding: t; -*-
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:
</span>(<span class="org-keyword">defun</span> <span class="org-function-name">m180/font-set</span> ()
  <span class="org-doc">"Font settings for linux."</span>
  (set-face-attribute 'default nil <span class="org-builtin">:family</span> <span class="org-string">"Iosevka Nerd Font Mono"</span> <span class="org-builtin">:height</span> 120 <span class="org-builtin">:weight</span> 'light)
  (set-fontset-font t 'hangul (font-spec <span class="org-builtin">:name</span> <span class="org-string">"NotoSansKR"</span>)))

(<span class="org-keyword">if</span> (daemonp)
      (add-hook 'server-after-make-frame-hook #'m180/font-set)
  (m180/font-set))

(<span class="org-keyword">provide</span> '<span class="org-constant">linux-conf</span>)
<span class="org-comment-delimiter">;;; </span><span class="org-comment">linux-conf.el ends here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb2f7d04" class="outline-2">
<h2 id="orgb2f7d04"><span class="section-number-2">12.</span> MacOS</h2>
<div class="outline-text-2" id="text-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">macos-conf.el --- Summary  -*- lexical-binding: t; -*-
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:
</span>(<span class="org-keyword">defun</span> <span class="org-function-name">m180/font-set</span> ()
  <span class="org-doc">"Font settings for MacOS."</span>
  (set-face-attribute 'default nil <span class="org-builtin">:family</span> <span class="org-string">"Iosevka Nerd Font Mono"</span> <span class="org-builtin">:height</span> 160 <span class="org-builtin">:weight</span> 'extra-light)
  (set-fontset-font t 'hangul (font-spec <span class="org-builtin">:name</span> <span class="org-string">"NotoSansKR"</span>)))

(<span class="org-keyword">if</span> (daemonp)
      (add-hook 'server-after-make-frame-hook #'m180/font-set)
  (m180/font-set))

(<span class="org-keyword">setq</span> insert-directory-program <span class="org-string">"gls"</span>)
(<span class="org-keyword">setq</span> mac-command-modifier 'meta)

(<span class="org-keyword">when</span> (executable-find <span class="org-string">"zsh"</span>)
  (setenv <span class="org-string">"SHELL"</span> (executable-find <span class="org-string">"zsh"</span>)))

(<span class="org-keyword">provide</span> '<span class="org-constant">macos-conf</span>)
<span class="org-comment-delimiter">;;; </span><span class="org-comment">macos-conf.el ends here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org29070d4" class="outline-2">
<h2 id="org29070d4"><span class="section-number-2">13.</span> Windows</h2>
<div class="outline-text-2" id="text-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">windows-conf.el --- Summary  -*- lexical-binding: t; -*-
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:
</span><span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:
</span>(<span class="org-keyword">defun</span> <span class="org-function-name">m180/font-set</span> ()
  <span class="org-doc">"Font set for Windows."</span>
  (set-face-attribute 'default nil <span class="org-builtin">:family</span> <span class="org-string">"Iosevka NFM"</span> <span class="org-builtin">:height</span> 120 <span class="org-builtin">:weight</span> 'light)
  (set-fontset-font t 'hangul (font-spec <span class="org-builtin">:name</span> <span class="org-string">"Noto Sans KR"</span>)))

(<span class="org-keyword">if</span> (daemonp)
      (add-hook 'server-after-make-frame-hook #'m180/font-set)
  (m180/font-set))

(<span class="org-keyword">setq</span> explicit-shell-file-name (executable-find <span class="org-string">"pwsh"</span>))
(<span class="org-keyword">setq</span> shell-file-name (expand-file-name <span class="org-string">"cmdproxy.exe"</span> exec-directory))
(<span class="org-keyword">setq</span> org-babel-shell-command shell-file-name)
(<span class="org-keyword">setq</span> org-babel-C-complier <span class="org-string">"gcc"</span>
        org-babel-C++-complier <span class="org-string">"g++"</span>)
(<span class="org-keyword">setq</span> grep-use-null-device nil)

<span class="org-comment-delimiter">;; </span><span class="org-comment">(defun pwsh-shell-mode-setup ()
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">"Powershell setup for Windows."
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">(setq-local comint-prompt-read-only t)
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">(setq-local comint-process-echoes t))
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">(add-hook 'shell-mode-hook #'pwsh-shell-mode-setup)
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">(setq eshell-windows-shell-file (executable-find "pwsh"))
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">(setq explicit-shell-file-name (executable-find "pwsh"))
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">(setq shell-file-name (executable-find "pwsh"))
</span><span class="org-comment-delimiter">;; </span><span class="org-comment">(setenv "SHELL" shell-file-name)
</span>
(<span class="org-keyword">provide</span> '<span class="org-constant">windows-conf</span>)
<span class="org-comment-delimiter">;;; </span><span class="org-comment">windows-conf.el ends here</span>
</pre>
</div>
</div>
</div>
</main>
</body>
</html>
