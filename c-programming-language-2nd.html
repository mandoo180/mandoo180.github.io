<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>C Programming Language</title>
<meta name="generator" content="Org Mode" />
<meta name="viewport" content="width=device-width, initial-scale=1"><script src="https://cdn.tailwindcss.com?plugins=typography"></script><script>window.tailwind = window.tailwind || {};window.tailwind.config = { darkMode: 'media' }; /* follow browser */</script>
<style>
  :root { color-scheme: light dark; }      /* hint to UA widgets, form controls */
  body { margin:0; }
  @media (prefers-color-scheme: light) { body { background: #ffffff; } }
  @media (prefers-color-scheme: dark)  { body { background: #0b0b0b; } }
</style>
</head>
<body>
<main id="content" class="prose prose-zinc dark:prose-invert mx-auto w-full max-w-3xl md:max-w-4xl lg:max-w-5xl xl:max-w-6xl px-4 sm:px-6 lg:px-8">
<h1 class="title">C Programming Language</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org6a9c3a9">1. CHAPTER 4. Functions and Program Structure</a>
<ul>
<li><a href="#orge07ef24">1.1. Basics of Functions</a></li>
<li><a href="#org6c1f50b">1.2. Functions Returning Non-integers</a></li>
<li><a href="#orgb7b83ab">1.3. External Variables</a></li>
<li><a href="#org0d4f92e">1.4. Recursion</a></li>
</ul>
</li>
<li><a href="#orgba140c7">2. CHAPTER 5. Pointers and Arrays</a></li>
</ul>
</div>
</div>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-src-window-setup 'current-window)
</pre>
</div>


<div id="outline-container-org6a9c3a9" class="outline-2">
<h2 id="org6a9c3a9"><span class="section-number-2">1.</span> CHAPTER 4. Functions and Program Structure</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orge07ef24" class="outline-3">
<h3 id="orge07ef24"><span class="section-number-3">1.1.</span> Basics of Functions</h3>
<div class="outline-text-3" id="text-1-1">
<div class="org-src-container">
<pre class="src src-c"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdio.h&gt;</span>
<span class="org-preprocessor">#define</span> <span class="org-variable-name">MAXLINE</span> 1000


<span class="org-type">int</span> <span class="org-function-name">strindex</span>(<span class="org-type">char</span> <span class="org-variable-name">source</span>[], <span class="org-type">char</span> <span class="org-variable-name">searchfor</span>[]);
<span class="org-type">int</span> <span class="org-function-name">_getline</span>(<span class="org-type">char</span> <span class="org-variable-name">line</span>[], <span class="org-type">int</span> <span class="org-variable-name">max</span>);

<span class="org-type">char</span> <span class="org-variable-name">pattern</span>[] = <span class="org-string">"ould"</span>;

<span class="org-type">int</span> <span class="org-function-name">main</span>() {
  <span class="org-type">char</span> <span class="org-variable-name">line</span>[MAXLINE];
  <span class="org-type">int</span> <span class="org-variable-name">found</span> = 0;
  <span class="org-keyword">while</span> (_getline(line, MAXLINE) &gt; 0) {
    <span class="org-keyword">if</span> (strindex(line, pattern) &gt;= 0) {
      printf(<span class="org-string">"nils"</span>, line);
      found++;
    }
  }
  <span class="org-keyword">return</span> found;
}

<span class="org-type">int</span> <span class="org-function-name">strindex</span>(<span class="org-type">char</span> <span class="org-variable-name">s</span>[], <span class="org-type">char</span> <span class="org-variable-name">t</span>[]) {
  <span class="org-type">int</span> <span class="org-variable-name">i</span>, <span class="org-variable-name">j</span> , <span class="org-variable-name">k</span>;
  <span class="org-keyword">for</span> (i = 0; s[i] != <span class="org-string">'\0'</span>; i++) {
    <span class="org-keyword">for</span> (j = i, k = 0; t[k] != <span class="org-string">'\0'</span> &amp;&amp; s[j] == t[k]; j++, k++) {

    }
    <span class="org-keyword">if</span> (k &gt; 0 &amp;&amp; t[k] == <span class="org-string">'\0'</span>) {
      <span class="org-keyword">return</span> i;
    }
  }
  <span class="org-keyword">return</span> -1;
}

<span class="org-type">int</span> <span class="org-function-name">_getline</span>(<span class="org-type">char</span> <span class="org-variable-name">s</span>[], <span class="org-type">int</span> <span class="org-variable-name">lim</span>) {
  <span class="org-type">int</span> <span class="org-variable-name">c</span>, <span class="org-variable-name">i</span>;
  i = 0;
  <span class="org-keyword">while</span> (--lim &gt; 0 &amp;&amp; (c = getchar()) != EOF &amp;&amp; c != <span class="org-string">'\n'</span>) {
    s[i++] = c;
  }
  <span class="org-keyword">if</span> (c == <span class="org-string">'\n'</span>) {
    s[i++] = c;  
  }
  s[i] = <span class="org-string">'\0'</span>;
  <span class="org-keyword">return</span> i;
}


</pre>
</div>

<div class="org-src-container">
<pre class="src src-makefile"><span class="org-variable-name">CC</span> = gcc
<span class="org-variable-name">CFLAGS</span> = -g -Wall -Werror -I./src
<span class="org-variable-name">SRCS</span> = src/grep.c
<span class="org-variable-name">OBJS</span> = $(<span class="org-variable-name">SRCS</span>:<span class="org-variable-name">.c</span>=.o)
<span class="org-variable-name">TARGET</span> = app

<span class="org-makefile-targets">all</span>: $(<span class="org-variable-name">TARGET</span>)

<span class="org-makefile-targets">$(</span><span class="org-variable-name"><span class="org-makefile-targets">TARGET</span></span><span class="org-makefile-targets">)</span>: $(<span class="org-variable-name">OBJS</span>)
      $(<span class="org-variable-name">CC</span>) -o <span class="org-makefile-targets">$</span><span class="org-makefile-targets"><span class="org-constant">@</span></span> $<span class="org-constant">^</span>

<span class="org-makefile-targets">nil.o</span>: nilc
      $(<span class="org-variable-name">CC</span>) $(<span class="org-variable-name">CFLAGS</span>) -c nil&lt; -o <span class="org-makefile-targets">$</span><span class="org-makefile-targets"><span class="org-constant">@</span></span>

<span class="org-makefile-targets">clean</span>:
      rm -f $(<span class="org-variable-name">OBJS</span>) $(<span class="org-variable-name">TARGET</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6c1f50b" class="outline-3">
<h3 id="org6c1f50b"><span class="section-number-3">1.2.</span> Functions Returning Non-integers</h3>
<div class="outline-text-3" id="text-1-2">
<div class="org-src-container">
<pre class="src src-c"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;ctype.h&gt;</span>


<span class="org-type">double</span> <span class="org-function-name">atof</span>(<span class="org-type">char</span> <span class="org-variable-name">s</span>[]) {
  <span class="org-type">double</span> <span class="org-variable-name">val</span>, <span class="org-variable-name">power</span>;
  <span class="org-type">int</span> <span class="org-variable-name">i</span>, <span class="org-variable-name">sign</span>;
  <span class="org-keyword">for</span> (i = 0; isspace(s[i]); i++) {
    <span class="org-comment-delimiter">/* </span><span class="org-comment">skip white space</span><span class="org-comment-delimiter"> */</span>
  }
  sign = (s[i] == <span class="org-string">'-'</span>) ? -1 : 1;
  <span class="org-keyword">if</span> (s[i] == <span class="org-string">'+'</span> || s[i] == <span class="org-string">'-'</span>) {
    i++;
  }
  <span class="org-keyword">for</span> (val = 0.0; isdigit(s[i]); i++) {
    val = 10.0 * val + (s[i] - <span class="org-string">'0'</span>);
  }
  <span class="org-keyword">if</span> (s[i] == <span class="org-string">'.'</span>) {
    i++;
  }
  <span class="org-keyword">for</span> (power = 1.0; isdigit(s[i]); i++) {
    val = 10.0 * val + (s[i] - <span class="org-string">'0'</span>);
    power *= 10.0;
  }
  <span class="org-keyword">return</span> sign * val / power;
}
</pre>
</div>

<div class="org-src-container">
<pre class="src src-c"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdio.h&gt;</span>

<span class="org-preprocessor">#define</span> <span class="org-variable-name">MAXLINE</span> 100

<span class="org-type">int</span> <span class="org-function-name">main</span>() {
  <span class="org-type">double</span> <span class="org-variable-name">sum</span>, <span class="org-function-name">atof</span>(<span class="org-type">char</span>[]);
  <span class="org-type">char</span> <span class="org-variable-name">line</span>[MAXLINE];
  <span class="org-type">int</span> <span class="org-function-name">_getline</span>(<span class="org-type">char</span> <span class="org-variable-name">line</span>[], <span class="org-type">int</span> <span class="org-variable-name">max</span>);

  sum = 0;
  <span class="org-keyword">while</span> (_getline(line, MAXLINE) &gt; 0) {
    printf(<span class="org-string">"\tnilg\n"</span>, sum += atof(line));
  }
  <span class="org-keyword">return</span> 0;
}

<span class="org-type">int</span> <span class="org-function-name">_getline</span>(<span class="org-type">char</span> <span class="org-variable-name">s</span>[], <span class="org-type">int</span> <span class="org-variable-name">lim</span>) {
  <span class="org-type">int</span> <span class="org-variable-name">c</span>, <span class="org-variable-name">i</span>;
  i = 0;
  <span class="org-keyword">while</span> (--lim &gt; 0 &amp;&amp; (c = getchar()) != EOF &amp;&amp; c != <span class="org-string">'\n'</span>) {
    s[i++] = c;
  }
  <span class="org-keyword">if</span> (c == <span class="org-string">'\n'</span>) {
    s[i++] = c;  
  }
  s[i] = <span class="org-string">'\0'</span>;
  <span class="org-keyword">return</span> i;
}
</pre>
</div>

<div class="org-src-container">
<pre class="src src-makefile"><span class="org-variable-name">CC</span> = gcc
<span class="org-variable-name">CFLAGS</span> = -g -Wall -Werror -I./src
<span class="org-variable-name">SRCS</span> = src/main.c src/atof.c
<span class="org-variable-name">OBJS</span> = $(<span class="org-variable-name">SRCS</span>:<span class="org-variable-name">.c</span>=.o)
<span class="org-variable-name">TARGET</span> = app

<span class="org-makefile-targets">all</span>: $(<span class="org-variable-name">TARGET</span>)

<span class="org-makefile-targets">$(</span><span class="org-variable-name"><span class="org-makefile-targets">TARGET</span></span><span class="org-makefile-targets">)</span>: $(<span class="org-variable-name">OBJS</span>)
      $(<span class="org-variable-name">CC</span>) -o <span class="org-makefile-targets">$</span><span class="org-makefile-targets"><span class="org-constant">@</span></span> $<span class="org-constant">^</span>

<span class="org-makefile-targets">nil.o</span>: nilc
      $(<span class="org-variable-name">CC</span>) $(<span class="org-variable-name">CFLAGS</span>) -c nil&lt; -o <span class="org-makefile-targets">$</span><span class="org-makefile-targets"><span class="org-constant">@</span></span>

<span class="org-makefile-targets">clean</span>:
      rm -f $(<span class="org-variable-name">OBJS</span>) $(<span class="org-variable-name">TARGET</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb7b83ab" class="outline-3">
<h3 id="orgb7b83ab"><span class="section-number-3">1.3.</span> External Variables</h3>
<div class="outline-text-3" id="text-1-3">
<div class="org-src-container">
<pre class="src src-c"><span class="org-preprocessor">#define</span> <span class="org-variable-name">NUMBER</span> <span class="org-string">'0'</span>              <span class="org-comment-delimiter">/* </span><span class="org-comment">signal that a number was found</span><span class="org-comment-delimiter"> */</span>
<span class="org-type">void</span> <span class="org-function-name">push</span>(<span class="org-type">double</span>);
<span class="org-type">double</span> <span class="org-function-name">pop</span>(<span class="org-type">void</span>);
<span class="org-type">int</span> <span class="org-function-name">getop</span>(<span class="org-type">char</span> []);
<span class="org-type">int</span> <span class="org-function-name">getch</span>(<span class="org-type">void</span>);
<span class="org-type">void</span> <span class="org-function-name">ungetch</span>(<span class="org-type">int</span>);
</pre>
</div>

<div class="org-src-container">
<pre class="src src-c"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdio.h&gt;</span>
<span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdlib.h&gt;</span>             <span class="org-comment-delimiter">/* </span><span class="org-comment">for atof()</span><span class="org-comment-delimiter"> */</span>
<span class="org-preprocessor">#include</span> <span class="org-string">"calc.h"</span>

<span class="org-preprocessor">#define</span> <span class="org-variable-name">MAXOP</span> 100               <span class="org-comment-delimiter">/* </span><span class="org-comment">max size of operand or operator</span><span class="org-comment-delimiter"> */</span>

<span class="org-comment-delimiter">/* </span><span class="org-comment">reverse Polish calculator</span><span class="org-comment-delimiter"> */</span>
<span class="org-type">int</span> <span class="org-function-name">main</span>() {
  <span class="org-type">int</span> <span class="org-variable-name">type</span>;
  <span class="org-type">double</span> <span class="org-variable-name">op2</span>;
  <span class="org-type">char</span> <span class="org-variable-name">s</span>[MAXOP];

  <span class="org-keyword">while</span> ((type = getop(s)) != EOF) {
    <span class="org-keyword">switch</span>(type) {
    <span class="org-keyword">case</span> NUMBER:
      push(atof(s));
      <span class="org-keyword">break</span>;
    <span class="org-keyword">case</span> <span class="org-string">'+'</span>:
      push(pop() + pop());
      <span class="org-keyword">break</span>;
    <span class="org-keyword">case</span> <span class="org-string">'*'</span>:
      push(pop() * pop());
      <span class="org-keyword">break</span>;
    <span class="org-keyword">case</span> <span class="org-string">'-'</span>:
      op2 = pop();
      push(pop() - op2);
      <span class="org-keyword">break</span>;
    <span class="org-keyword">case</span> <span class="org-string">'/'</span>:
      op2 = pop();
      <span class="org-keyword">if</span> (op2 != 0.0)
        push(pop() / op2);
      <span class="org-keyword">else</span>
        printf(<span class="org-string">"error: zero divisor\n"</span>);
      <span class="org-keyword">break</span>;
    <span class="org-keyword">case</span> <span class="org-string">'\n'</span>:
      printf(<span class="org-string">"\tnil.8g\n"</span>, pop());
      <span class="org-keyword">break</span>;
    <span class="org-keyword">default</span>:
      printf(<span class="org-string">"error: unknown command nils\n"</span>, s);
      <span class="org-keyword">break</span>;
    }
  }
  <span class="org-keyword">return</span> 0;
}
</pre>
</div>

<div class="org-src-container">
<pre class="src src-c"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdio.h&gt;</span>
<span class="org-preprocessor">#include</span> <span class="org-string">&lt;ctype.h&gt;</span>
<span class="org-preprocessor">#include</span> <span class="org-string">"calc.h"</span>

<span class="org-comment-delimiter">/* </span><span class="org-comment">getop: get next operator or numberic operand</span><span class="org-comment-delimiter"> */</span>
<span class="org-type">int</span> <span class="org-function-name">getop</span>(<span class="org-type">char</span> <span class="org-variable-name">s</span>[]) {
  <span class="org-type">int</span> <span class="org-variable-name">i</span>, <span class="org-variable-name">c</span>;
  <span class="org-keyword">while</span>((s[0] = c = getch()) == <span class="org-string">' '</span> || c == <span class="org-string">'\t'</span>) {
    <span class="org-comment-delimiter">/* </span><span class="org-comment">skip</span><span class="org-comment-delimiter"> */</span>
  }
  s[1] = <span class="org-string">'\0'</span>;
  <span class="org-keyword">if</span> (<span class="org-negation-char">!</span>isdigit(c) &amp;&amp; c != <span class="org-string">'.'</span>)
    <span class="org-keyword">return</span> c;                   <span class="org-comment-delimiter">/* </span><span class="org-comment">not a number</span><span class="org-comment-delimiter"> */</span>
  i = 0;
  <span class="org-keyword">if</span> (isdigit(c))
    <span class="org-keyword">while</span> (isdigit(s[++i] = c = getch())) {
      <span class="org-comment-delimiter">/* </span><span class="org-comment">collect integer part</span><span class="org-comment-delimiter"> */</span>
    }
  <span class="org-keyword">if</span> (c == <span class="org-string">'.'</span>)
    <span class="org-keyword">while</span> (isdigit(s[++i] = c = getch())) {
      <span class="org-comment-delimiter">/* </span><span class="org-comment">collect fraction part</span><span class="org-comment-delimiter"> */</span>
    }
  s[i] = <span class="org-string">'\0'</span>;
  <span class="org-keyword">if</span> (c != EOF)
    ungetch(c);
  <span class="org-keyword">return</span> NUMBER;
}
</pre>
</div>

<div class="org-src-container">
<pre class="src src-c"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdio.h&gt;</span>
<span class="org-preprocessor">#define</span> <span class="org-variable-name">BUFSIZE</span> 100

<span class="org-type">char</span> <span class="org-variable-name">buf</span>[BUFSIZE];
<span class="org-type">int</span> <span class="org-variable-name">bufp</span> = 0;

<span class="org-type">int</span> <span class="org-function-name">getch</span>(<span class="org-type">void</span>) {
  <span class="org-keyword">return</span> (bufp &gt; 0) ? buf[--bufp] : getchar();
}

<span class="org-type">void</span> <span class="org-function-name">ungetch</span>(<span class="org-type">int</span> <span class="org-variable-name">c</span>) {
  <span class="org-keyword">if</span> (bufp &gt;= BUFSIZE)
    printf(<span class="org-string">"ungetch: too many characters\n"</span>);
  <span class="org-keyword">else</span>
    buf[bufp++] = c;
}
</pre>
</div>

<div class="org-src-container">
<pre class="src src-c"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdio.h&gt;</span>
<span class="org-preprocessor">#include</span> <span class="org-string">"calc.h"</span>

<span class="org-preprocessor">#define</span> <span class="org-variable-name">MAXVAL</span> 100

<span class="org-type">int</span> <span class="org-variable-name">sp</span> = 0;
<span class="org-type">double</span> <span class="org-variable-name">val</span>[MAXVAL];

<span class="org-comment-delimiter">/* </span><span class="org-comment">push: push f onto value stack</span><span class="org-comment-delimiter"> */</span>
<span class="org-type">void</span> <span class="org-function-name">push</span>(<span class="org-type">double</span> <span class="org-variable-name">f</span>) {
  <span class="org-keyword">if</span> (sp &lt; MAXVAL)
    val[sp++] = f;
  <span class="org-keyword">else</span>
    printf(<span class="org-string">"error: stack full, can't push nilg\n"</span>, f);
}

<span class="org-comment-delimiter">/* </span><span class="org-comment">pop: pop and return top value from stack</span><span class="org-comment-delimiter"> */</span>
<span class="org-type">double</span> <span class="org-function-name">pop</span>(<span class="org-type">void</span>) {
  <span class="org-keyword">if</span> (sp &gt; 0)
    <span class="org-keyword">return</span> val[--sp];
  <span class="org-keyword">else</span> {
    printf(<span class="org-string">"error: stack empty\n"</span>);
    <span class="org-keyword">return</span> 0.0;
  }
}
</pre>
</div>

<div class="org-src-container">
<pre class="src src-makefile"><span class="org-comment-delimiter"># </span><span class="org-comment">Compiler
</span><span class="org-variable-name">CC</span> = gcc

<span class="org-comment-delimiter"># </span><span class="org-comment">Compiler flags
</span><span class="org-variable-name">CFLAGS</span> = -g -Wall -Werror -I./src

<span class="org-comment-delimiter"># </span><span class="org-comment">Source files
</span><span class="org-variable-name">SRCS</span> = src/main.c src/getop.c src/getch.c src/stack.c

<span class="org-comment-delimiter"># </span><span class="org-comment">Object files
</span><span class="org-variable-name">OBJS</span> = $(<span class="org-variable-name">SRCS</span>:<span class="org-variable-name">.c</span>=.o)

<span class="org-comment-delimiter"># </span><span class="org-comment">Executable name
</span><span class="org-variable-name">TARGET</span> = app

<span class="org-comment-delimiter"># </span><span class="org-comment">Default target
</span><span class="org-makefile-targets">all</span>: $(<span class="org-variable-name">TARGET</span>)

<span class="org-comment-delimiter"># </span><span class="org-comment">Link object files to create the executable
</span><span class="org-makefile-targets">$(</span><span class="org-variable-name"><span class="org-makefile-targets">TARGET</span></span><span class="org-makefile-targets">)</span>: $(<span class="org-variable-name">OBJS</span>)
      $(<span class="org-variable-name">CC</span>) -o <span class="org-makefile-targets">$</span><span class="org-makefile-targets"><span class="org-constant">@</span></span> $<span class="org-constant">^</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Compile source files to objects files
</span><span class="org-makefile-targets">nil.o</span>: nil.c
      $(<span class="org-variable-name">CC</span>) $(<span class="org-variable-name">CFLAGS</span>) -c $<span class="org-constant">&lt;</span> -o <span class="org-makefile-targets">$</span><span class="org-makefile-targets"><span class="org-constant">@</span></span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Clean target
</span><span class="org-makefile-targets">clean</span>:
      rm -f $(<span class="org-variable-name">OBJS</span>) $(<span class="org-variable-name">TARGET</span>)
</pre>
</div>

<p>
After execute program, input and output will be like below.
</p>
<pre class="example" id="org29fb8db">
IN: 1 1 +
OUT: 2
IN: 1 1 + 2 2 + *
(1 + 1) * (2 + 2) in infix notation(?)
OUT: 8
</pre>
</div>
</div>

<div id="outline-container-org0d4f92e" class="outline-3">
<h3 id="org0d4f92e"><span class="section-number-3">1.4.</span> Recursion</h3>
<div class="outline-text-3" id="text-1-4">
<div class="org-src-container">
<pre class="src src-c"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdio.h&gt;</span>

<span class="org-type">void</span> <span class="org-function-name">printd</span>(<span class="org-type">int</span> <span class="org-variable-name">n</span>);

<span class="org-type">int</span> <span class="org-function-name">main</span>() {
  printd(123);
}

<span class="org-type">void</span> <span class="org-function-name">printd</span>(<span class="org-type">int</span> <span class="org-variable-name">n</span>) {
  <span class="org-keyword">if</span> (n &lt; 0) {
    putchar(<span class="org-string">'-'</span>);
    n = -n;
  }
  <span class="org-keyword">if</span> (n / 10)
    printd(n / 10);
  putchar(n nil 10 + <span class="org-string">'0'</span>);
}
</pre>
</div>

<div class="org-src-container">
<pre class="src src-c"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdio.h&gt;</span>


<span class="org-type">void</span> <span class="org-function-name">qsort</span>(<span class="org-type">int</span> <span class="org-variable-name">v</span>[], <span class="org-type">int</span> <span class="org-variable-name">left</span>, <span class="org-type">int</span> <span class="org-variable-name">right</span>);
<span class="org-type">void</span> <span class="org-function-name">swap</span>(<span class="org-type">int</span> <span class="org-variable-name">v</span>[], <span class="org-type">int</span> <span class="org-variable-name">i</span>, <span class="org-type">int</span> <span class="org-variable-name">j</span>);

<span class="org-type">int</span> <span class="org-function-name">main</span>() {
  <span class="org-type">int</span> <span class="org-variable-name">v</span>[] = {3, 5, 2, 1, 6, 8, 10};
  qsort(v, 0, 6);
  <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; 7; i++)
    printf(<span class="org-string">"nild, "</span>, v[i]);
  printf(<span class="org-string">"\n"</span>);
}

<span class="org-comment-delimiter">/* </span><span class="org-comment">qsort: sort v[left]..v[right] into increasing order</span><span class="org-comment-delimiter"> */</span>
<span class="org-type">void</span> <span class="org-function-name">qsort</span>(<span class="org-type">int</span> <span class="org-variable-name">v</span>[], <span class="org-type">int</span> <span class="org-variable-name">left</span>, <span class="org-type">int</span> <span class="org-variable-name">right</span>) {
  <span class="org-type">int</span> <span class="org-variable-name">i</span>, <span class="org-variable-name">last</span>;
  <span class="org-keyword">if</span> (left &gt;= right)            <span class="org-comment-delimiter">/* </span><span class="org-comment">do nothing if array contains fewer than two elements</span><span class="org-comment-delimiter"> */</span>
    <span class="org-keyword">return</span>;
  swap(v, left, (left + right) / 2); <span class="org-comment-delimiter">/* </span><span class="org-comment">move partition elem to v[0]</span><span class="org-comment-delimiter"> */</span>
  last = left;
  <span class="org-keyword">for</span> (i = left + 1; i &lt;= right; i++) <span class="org-comment-delimiter">/* </span><span class="org-comment">partition</span><span class="org-comment-delimiter"> */</span>
    <span class="org-keyword">if</span> (v[i] &lt; v[left])
      swap(v, ++last, i);
  swap(v, left, last);         <span class="org-comment-delimiter">/* </span><span class="org-comment">restore partition elem</span><span class="org-comment-delimiter"> */</span>
  qsort(v, left, last - 1);
  qsort(v, last + 1, right);
}

<span class="org-comment-delimiter">/* </span><span class="org-comment">swap: interchange v[i] and v[j]</span><span class="org-comment-delimiter"> */</span>
<span class="org-type">void</span> <span class="org-function-name">swap</span>(<span class="org-type">int</span> <span class="org-variable-name">v</span>[], <span class="org-type">int</span> <span class="org-variable-name">i</span>, <span class="org-type">int</span> <span class="org-variable-name">j</span>) {
  <span class="org-type">int</span> <span class="org-variable-name">temp</span>;
  temp = v[i];
  v[i] = v[j];
  v[j] = temp;
}
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgba140c7" class="outline-2">
<h2 id="orgba140c7"><span class="section-number-2">2.</span> CHAPTER 5. Pointers and Arrays</h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">
<pre class="src src-c"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdio.h&gt;</span>


<span class="org-type">int</span> <span class="org-function-name">main</span>() {
  <span class="org-type">int</span> <span class="org-variable-name">x</span> = 1, <span class="org-variable-name">y</span> = 2, <span class="org-variable-name">z</span>[10];
  <span class="org-type">int</span> *<span class="org-variable-name">ip</span>;                      <span class="org-comment-delimiter">/* </span><span class="org-comment">ip is a pointer to int</span><span class="org-comment-delimiter"> */</span>
  printf(<span class="org-string">"int *ip: nilp\n"</span>, &amp;ip);

  ip = &amp;x;                      <span class="org-comment-delimiter">/* </span><span class="org-comment">ip now points to x</span><span class="org-comment-delimiter"> */</span>
  printf(<span class="org-string">"ip = &amp;x: nild\n"</span>, ip);
  y = *ip;                      <span class="org-comment-delimiter">/* </span><span class="org-comment">y is now 1</span><span class="org-comment-delimiter"> */</span>
  printf(<span class="org-string">"y = *ip: nild\n"</span>, y);
  *ip = 0;                      <span class="org-comment-delimiter">/* </span><span class="org-comment">x is now 0</span><span class="org-comment-delimiter"> */</span>
  printf(<span class="org-string">"*ip = 0: nild\n"</span>, x);
  ip = &amp;z[0];                    <span class="org-comment-delimiter">/* </span><span class="org-comment">ip now points to z[0]</span><span class="org-comment-delimiter"> */</span>
  printf(<span class="org-string">"ip = &amp;z[0]: nild\n"</span>, ip);
}
</pre>
</div>
</div>
</div>
</main>
</body>
</html>
